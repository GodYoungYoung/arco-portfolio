import{_ as B,u as I,b as U,a as j,k as v,S as A,m as E,c as R,l as s,t as r,e as b,d as o,w as t,E as T,Y as Z,Z as D,r as n,o as H,$ as J,f as Y,H as F,I as G}from"./index-oR0mlNqp.js";const K="/assets/splinterteal-CuBss1Tr.webm",L="/logo.png",h=c=>(F("data-v-a49bb53d"),c=c(),G(),c),M=h(()=>s("video",{class:"video-background",autoplay:"",preload:"auto",loop:"",muted:""},[s("source",{src:K,type:"video/webm"})],-1)),O={class:"login-logo"},P=h(()=>s("img",{src:L,alt:"logo"},null,-1)),Q={class:"login-width md:w-10/12 w-11/12 mx-auto flex justify-between h-full items-center"},W={class:"w-6/12 mx-auto left-panel rounded-l pl-5 pr-5 hidden md:block"},X={class:"logo"},ee={class:"slogan flex justify-end"},se={class:"md:w-6/12 w-11/12 md:rounded-r mx-auto pl-5 pr-5 pb-10"},oe={class:"mt-10 text-3xl pb-0 mb-10 login-title"},ae=["src"],le=Z('<div class="login-bg" data-v-a49bb53d><div class="fly bg-fly-circle1" data-v-a49bb53d></div><div class="fly bg-fly-circle2" data-v-a49bb53d></div><div class="fly bg-fly-circle3" data-v-a49bb53d></div><div class="fly bg-fly-circle4" data-v-a49bb53d></div></div>',1),te={__name:"login",setup(c){const y=I(),w=U(),m=j(),_=v(null),d=v(!1);var S={username:"",password:"",code:""};const a=A(S),p=()=>{a.code="",a.uuid="",D.get("/core/captcha").then(e=>{const l=e.data.data;_.value=l.image,a.uuid=l.uuid})};p();const V=E(),$=m.query.redirect?m.query.redirect:"/",k=async({values:e,errors:l})=>{if(!d.value){if(d.value=!0,!l){if(!await V.login(a)){d.value=!1,p();return}w.push($)}d.value=!1}};return(e,l)=>{const f=n("icon-user"),g=n("a-input"),u=n("a-form-item"),C=n("icon-lock"),N=n("a-input-password"),x=n("icon-safe"),z=n("a-button"),q=n("a-form");return H(),R("div",{class:"login-container",style:T({background:b(y).mode==="dark"?"#2e2e30e3":""})},[M,s("h3",O,[P,s("span",null,r(e.$title),1)]),s("div",Q,[s("div",W,[s("div",X,[s("span",null,r(e.$title)+" v"+r(b(J).version),1)]),s("div",ee,[s("span",null,"---- "+r(e.$t("sys.login.slogan")),1)])]),s("div",se,[s("h2",oe,r(e.$t("sys.login.title")),1),o(q,{model:a,onSubmit:k},{default:t(()=>[o(u,{field:"username","hide-label":!0,rules:[{required:!0,message:e.$t("sys.login.usernameNotice")}]},{default:t(()=>[o(g,{modelValue:a.username,"onUpdate:modelValue":l[0]||(l[0]=i=>a.username=i),class:"w-full",size:"large",placeholder:e.$t("sys.login.username"),"allow-clear":""},{prefix:t(()=>[o(f)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(u,{field:"password","hide-label":!0,rules:[{required:!0,message:e.$t("sys.login.passwordNotice")}]},{default:t(()=>[o(N,{modelValue:a.password,"onUpdate:modelValue":l[1]||(l[1]=i=>a.password=i),placeholder:e.$t("sys.login.password"),size:"large","allow-clear":""},{prefix:t(()=>[o(C)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(u,{field:"code","hide-label":!0,rules:[{required:!0,match:/^[a-zA-Z0-9]{4}$/,message:e.$t("sys.login.verifyCodeNotice")}]},{default:t(()=>[o(g,{modelValue:a.code,"onUpdate:modelValue":l[2]||(l[2]=i=>a.code=i),placeholder:e.$t("sys.login.verifyCode"),size:"large","allow-clear":""},{prefix:t(()=>[o(x)]),append:t(()=>[s("img",{src:_.value,style:{height:"36px",cursor:"pointer"},onClick:p},null,8,ae)]),_:1},8,["modelValue","placeholder"])]),_:1},8,["rules"]),o(u,{"hide-label":!0,class:"mt-5"},{default:t(()=>[o(z,{"html-type":"submit",type:"primary",long:"",size:"large",loading:d.value},{default:t(()=>[Y(r(e.$t("sys.login.loginBtn")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])]),le],4)}}},re=B(te,[["__scopeId","data-v-a49bb53d"]]);export{re as default};
