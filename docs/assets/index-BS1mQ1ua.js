import V from"./edit-DHfUVh1W.js";import{a as i}from"./notice-Bo3FsI-3.js";import{k as _,S as y,M as m,A as x,r as c,o as F,c as R,d as o,w as l}from"./index-oR0mlNqp.js";const A={class:"ma-content-block lg:flex justify-between"},L={__name:"index",setup(S){const n=_(),u=_(),s=_({title:"",type:"",create_time:[]}),h=y({api:i.getPageList,recycleApi:i.getRecyclePageList,pageLayout:"fixed",rowSelection:{showCheckedAll:!0},add:{show:!0,auth:["/core/notice/save"],func:async()=>{var e;(e=u.value)==null||e.open()}},edit:{show:!0,auth:["/core/notice/update"],func:async e=>{var a,t;(a=u.value)==null||a.open("edit"),(t=u.value)==null||t.setFormData(e)}},delete:{show:!0,auth:["/core/notice/destroy"],func:async e=>{var t;(await i.deletes(e)).code===200&&(m.success("删除成功！"),(t=n.value)==null||t.refresh())},realAuth:["/core/notice/realDestroy"],realFunc:async e=>{var t;(await i.realDestroy(e)).code===200&&(m.success("销毁成功！"),(t=n.value)==null||t.refresh())}},recovery:{show:!0,auth:["/core/notice/recovery"],func:async e=>{var t;(await i.recoverys(e)).code===200&&(m.success("恢复成功！"),(t=n.value)==null||t.refresh())}}}),v=y([{title:"公告标题",dataIndex:"title",width:500},{title:"公告类型",dataIndex:"type",dict:"backend_notice_type",width:180},{title:"创建时间",dataIndex:"create_time",width:180}]),w=async()=>{},f=async()=>{var e;(e=n.value)==null||e.refresh()};return x(async()=>{w(),f()}),(e,a)=>{const t=c("a-input"),d=c("a-form-item"),p=c("a-col"),k=c("sa-select"),b=c("a-range-picker"),g=c("sa-table");return F(),R("div",A,[o(g,{ref_key:"crudRef",ref:n,options:h,columns:v,searchForm:s.value},{tableSearch:l(()=>[o(p,{span:8},{default:l(()=>[o(d,{field:"title",label:"公告标题"},{default:l(()=>[o(t,{modelValue:s.value.title,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.title=r),placeholder:"请输入公告名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:8},{default:l(()=>[o(d,{field:"type",label:"公告类型"},{default:l(()=>[o(k,{modelValue:s.value.type,"onUpdate:modelValue":a[1]||(a[1]=r=>s.value.type=r),dict:"backend_notice_type",placeholder:"请选择公告类型"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:8},{default:l(()=>[o(d,{field:"create_time",label:"创建时间"},{default:l(()=>[o(b,{modelValue:s.value.create_time,"onUpdate:modelValue":a[2]||(a[2]=r=>s.value.create_time=r),style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["options","columns","searchForm"]),o(V,{ref_key:"editRef",ref:u,onSuccess:f},null,512)])}}};export{L as default};
