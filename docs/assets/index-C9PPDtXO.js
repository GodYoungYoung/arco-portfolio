import{u as se,a as Oe,b as we,r as g,o as w,c as j,d as c,w as u,e as O,f as A,t as I,F as Z,g as Se,h as P,i as Q,_ as Ne,j as hn,k as V,l as x,v as Jt,m as De,n as Ln,p as Vn,q as ot,M as pn,s as ct,x as de,y as He,z as Fn,A as be,B as tn,C as ie,D as Re,E as Ee,G as nn,H as jn,I as Wn,J as Ge,K as Te,L as Je,N as Ke,O as Xn,P as zn,T as mn,Q as Bn,R as gn,S as Bt,U as Hn}from"./index-oR0mlNqp.js";import{a as qn}from"./user-4eeYX97f.js";const Un={class:"ml-2 mt-3.5 hidden lg:block"},_n={__name:"ma-breadcrumb",setup(t){const e=se(),o=Oe(),n=we();return(a,i)=>{const s=g("a-breadcrumb-item"),r=g("a-breadcrumb");return w(),j("div",Un,[c(r,null,{default:u(()=>[c(s,{class:"cursor-pointer",onClick:i[0]||(i[0]=l=>O(n).push("/dashboard"))},{default:u(()=>[A(I(a.$t("menus.dashboard")),1)]),_:1}),(w(!0),j(Z,null,Se(O(o).matched,(l,d)=>(w(),j(Z,{key:d},[d>0&&!["/","/home","/dashboard"].includes(l.path)?(w(),P(s,{key:0},{default:u(()=>[A(I(O(e).i18n?a.$t("menus."+l.name).indexOf(".")>0?l.meta.title:a.$t("menus."+l.name):l.meta.title),1)]),_:2},1024)):Q("",!0)],64))),128))]),_:1})])}}},Yn={class:"mgs-nfc rounded p-2 shadow-lg"},Gn={class:"flex justify-between",style:{"font-size":"13px"}},Jn=["src"],Kn=["innerHTML"],Qn={__name:"message-notification",setup(t){const e=hn(),o=V({}),n=V(!1),a=async i=>{o.value=i,n.value=!0};return(i,s)=>{const r=g("a-badge"),l=g("a-avatar"),d=g("a-list-item-meta"),_=g("a-list-item"),f=g("a-list"),h=g("a-empty"),m=g("a-tab-pane"),b=g("a-tabs"),C=g("a-typography-title"),E=g("a-space"),F=g("a-typography-paragraph"),X=g("a-typography"),S=g("a-modal");return w(),j(Z,null,[x("div",Yn,[c(b,{"default-active-key":"message",type:"rounded"},{default:u(()=>[c(m,{key:"message"},{title:u(()=>[A(I(i.$t("sys.operationMessage.message"))+" ",1),O(e).messageList.length>0?(w(),P(r,{key:0,count:5,dot:"",dotStyle:{width:"5px",height:"5px",top:"-8px"}})):Q("",!0)]),default:u(()=>[O(e).messageList.length>0?(w(),P(f,{key:0,"max-height":230,class:"h-full"},{default:u(()=>[(w(!0),j(Z,null,Se(O(e).messageList,y=>(w(),P(_,{key:y.id,class:"cursor-pointer",onClick:$=>a(y)},{default:u(()=>[c(d,{title:y.title},{description:u(()=>[x("div",Gn,[x("span",null,"发送人："+I(y.send_user.nickname),1),x("span",null,"时间："+I(y.create_time.substr(0,10)),1)])]),avatar:u(()=>[c(l,{shape:"square"},{default:u(()=>[x("img",{alt:"avatar",src:`${y.send_user.avatar?y.send_user.avatar:i.$url+"avatar.jpg"}`},null,8,Jn)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1032,["onClick"]))),128))]),_:1})):(w(),P(h,{key:1,class:"h-full"}))]),_:1}),c(m,{key:"todo"},{title:u(()=>[A(I(i.$t("sys.operationMessage.todo")),1)]),default:u(()=>[c(h,{class:"h-full"})]),_:1})]),_:1})]),c(S,{visible:n.value,"onUpdate:visible":s[0]||(s[0]=y=>n.value=y),fullscreen:"",footer:!1},{title:u(()=>[A("消息详情")]),default:u(()=>[c(X,{style:{marginTop:"-30px"}},{default:u(()=>[c(C,{class:"text-center"},{default:u(()=>{var y;return[A(I((y=o.value)==null?void 0:y.title),1)]}),_:1}),c(F,{class:"text-right",style:{"font-size":"13px",color:"var(--color-text-3)"}},{default:u(()=>[c(E,{size:"large"},{default:u(()=>{var y;return[x("span",null,"创建时间："+I((y=o.value)==null?void 0:y.create_time),1)]}),_:1})]),_:1}),c(F,null,{default:u(()=>{var y;return[x("div",{innerHTML:(y=o.value)==null?void 0:y.content},null,8,Kn)]}),_:1})]),_:1})]),_:1},8,["visible"])],64)}}},Zn=Ne(Qn,[["__scopeId","data-v-06717154"]]),ge=function(t){this.doNotConnect=0,t=t||{},t.heartbeat=t.heartbeat||25e3,t.pingTimeout=t.pingTimeout||1e4,this.config=t,this.uid=0,this.channels={},this.connection=null,this.pingTimeoutTimer=0,ge.instances.push(this),this.createConnection()};ge.prototype.checkoutPing=function(){var t=this;setTimeout(function(){t.connection.state==="connected"&&(t.connection.send('{"event":"pusher:ping","data":{}}'),t.pingTimeoutTimer&&(clearTimeout(t.pingTimeoutTimer),t.pingTimeoutTimer=0),t.pingTimeoutTimer=setTimeout(function(){t.connection.closeAndClean(),t.connection.doNotConnect||t.connection.waitReconnect()},t.config.pingTimeout))},this.config.heartbeat)};ge.prototype.channel=function(t){return this.channels.find(t)};ge.prototype.allChannels=function(){return this.channels.all()};ge.prototype.createConnection=function(){if(this.connection)throw Error("Connection already exist");var t=this,e=this.config.url;function o(){for(var n in t.channels)t.channels[n].subscribed=!1}this.connection=new je({url:e,app_key:this.config.app_key,onOpen:function(){t.connection.state="connecting",t.checkoutPing()},onMessage:function(n){t.pingTimeoutTimer&&(clearTimeout(t.pingTimeoutTimer),t.pingTimeoutTimer=0),n=JSON.parse(n.data);var a=n.event,i=n.channel;if(a==="pusher:pong"){t.checkoutPing();return}if(a==="pusher:error")throw Error(n.data.message);var s=JSON.parse(n.data),r;if(a==="pusher_internal:subscription_succeeded"){r=t.channels[i],r.subscribed=!0,r.processQueue(),r.emit("pusher:subscription_succeeded");return}if(a==="pusher:connection_established"&&(t.connection.socket_id=s.socket_id,t.connection.state="connected",t.subscribeAll()),a.indexOf("pusher_internal")!==-1){console.log("Event '"+a+"' not implement");return}r=t.channels[i],r&&r.emit(a,s)},onClose:function(){o()},onError:function(){o()}})};ge.prototype.disconnect=function(){this.connection.doNotConnect=1,this.connection.close()};ge.prototype.subscribeAll=function(){if(this.connection.state==="connected")for(var t in this.channels)this.channels[t].processSubscribe()};ge.prototype.unsubscribe=function(t){this.channels[t]&&(delete this.channels[t],this.connection.state==="connected"&&this.connection.send(JSON.stringify({event:"pusher:unsubscribe",data:{channel:t}})))};ge.prototype.unsubscribeAll=function(){var t=Object.keys(this.channels);if(t.length&&this.connection.state==="connected")for(var e in this.channels)this.unsubscribe(e);this.channels={}};ge.prototype.subscribe=function(t){return this.channels[t]?this.channels[t]:t.indexOf("private-")===0?vn(t,this):t.indexOf("presence-")===0?to(t,this):eo(t,this)};ge.instances=[];function eo(t,e){var o=new ut(e.connection,t);return e.channels[t]=o,o.subscribeCb=function(){e.connection.send(JSON.stringify({event:"pusher:subscribe",data:{channel:t}}))},o}function vn(t,e){var o=new ut(e.connection,t);return e.channels[t]=o,o.subscribeCb=function(){oo({url:e.config.auth,type:"POST",data:{channel_name:t,socket_id:e.connection.socket_id},success:function(n){n=JSON.parse(n),n.channel=t,e.connection.send(JSON.stringify({event:"pusher:subscribe",data:n}))},error:function(n){throw Error(n)}})},o.processSubscribe(),o}function to(t,e){return vn(t,e)}function je(t){this.dispatcher=new bn,yn(this,this.dispatcher);var e=["on","off","emit"];for(var o in e)this[e[o]]=this.dispatcher[e[o]];this.options=t,this.state="initialized",this.doNotConnect=0,this.reconnectInterval=1,this.connection=null,this.reconnectTimer=0,this.connect()}je.prototype.updateNetworkState=function(t){var e=this.state;this.state=t,e!==t&&this.emit("state_change",{previous:e,current:t})};je.prototype.connect=function(){if(this.doNotConnect=0,this.state==="connected"){console.log('networkState is "'+this.state+'" and do not need connect');return}this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=0),this.closeAndClean();var t=this.options,e=new WebSocket(t.url+"/app/"+t.app_key);this.updateNetworkState("connecting");var o=this;e.onopen=function(n){if(o.reconnectInterval=1,o.doNotConnect){o.updateNetworkState("disconnected"),e.close();return}t.onOpen&&t.onOpen(n)},t.onMessage&&(e.onmessage=t.onMessage),e.onclose=function(n){e.onmessage=e.onopen=e.onclose=e.onerror=null,o.updateNetworkState("disconnected"),o.doNotConnect||o.waitReconnect(),t.onClose&&t.onClose(n)},e.onerror=function(n){o.close(),o.doNotConnect||o.waitReconnect(),t.onError&&t.onError(n)},this.connection=e};je.prototype.closeAndClean=function(){if(this.connection){var t=this.connection;t.onmessage=t.onopen=t.onclose=t.onerror=null;try{t.close()}catch{}this.updateNetworkState("disconnected")}};je.prototype.waitReconnect=function(){if(!(this.state==="connected"||this.state==="connecting")&&!this.doNotConnect){this.updateNetworkState("connecting");var t=this;this.reconnectTimer&&clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout(function(){t.connect()},this.reconnectInterval),this.reconnectInterval<1e3?this.reconnectInterval=1e3:this.reconnectInterval=this.reconnectInterval*2,this.reconnectInterval>2e3&&navigator.onLine&&(t.reconnectInterval=2e3)}};je.prototype.send=function(t){if(this.state!=="connected"){console.trace('networkState is "'+this.state+'", can not send '+t);return}this.connection.send(t)};je.prototype.close=function(){this.updateNetworkState("disconnected"),this.connection.close()};var yn=function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)};function ut(t,e){this.subscribed=!1,this.dispatcher=new bn,this.connection=t,this.channelName=e,this.subscribeCb=null,this.queue=[],yn(this,this.dispatcher);var o=["on","off","emit"];for(var n in o)this[o[n]]=this.dispatcher[o[n]]}ut.prototype.processSubscribe=function(){this.connection.state==="connected"&&this.subscribeCb()};ut.prototype.processQueue=function(){if(!(this.connection.state!=="connected"||!this.subscribed)){for(var t in this.queue)this.queue[t]();this.queue=[]}};ut.prototype.trigger=function(t,e){if(t.indexOf("client-")!==0)throw new Error("Event '"+t+"' should start with 'client-'");var o=this;this.queue.push(function(){o.connection.send(JSON.stringify({event:t,data:e,channel:o.channelName}))}),this.processQueue()};var pt=function(){var t={};function e(S){for(var y=[],$=1;$<arguments.length;$++)y[$-1]=arguments[$];for(var p=0;p<y.length;p++){var T=y[p];for(var q in T)T[q]&&T[q].constructor&&T[q].constructor===Object?S[q]=e(S[q]||{},T[q]):S[q]=T[q]}return S}t.extend=e;function o(){for(var S=["Push"],y=0;y<arguments.length;y++)typeof arguments[y]=="string"?S.push(arguments[y]):S.push(X(arguments[y]));return S.join(" : ")}t.stringify=o;function n(S,y){var $=Array.prototype.indexOf;if(S===null)return-1;if($&&S.indexOf===$)return S.indexOf(y);for(var p=0,T=S.length;p<T;p++)if(S[p]===y)return p;return-1}t.arrayIndexOf=n;function a(S,y){for(var $ in S)Object.prototype.hasOwnProperty.call(S,$)&&y(S[$],$,S)}t.objectApply=a;function i(S){var y=[];return a(S,function($,p){y.push(p)}),y}t.keys=i;function s(S){var y=[];return a(S,function($){y.push($)}),y}t.values=s;function r(S,y,$){for(var p=0;p<S.length;p++)y.call($||window,S[p],p,S)}t.apply=r;function l(S,y){for(var $=[],p=0;p<S.length;p++)$.push(y(S[p],p,S,$));return $}t.map=l;function d(S,y){var $={};return a(S,function(p,T){$[T]=y(p)}),$}t.mapObject=d;function _(S,y){y=y||function(T){return!!T};for(var $=[],p=0;p<S.length;p++)y(S[p],p,S,$)&&$.push(S[p]);return $}t.filter=_;function f(S,y){var $={};return a(S,function(p,T){(y&&y(p,T,S,$)||p)&&($[T]=p)}),$}t.filterObject=f;function h(S){var y=[];return a(S,function($,p){y.push([p,$])}),y}t.flatten=h;function m(S,y){for(var $=0;$<S.length;$++)if(y(S[$],$,S))return!0;return!1}t.any=m;function b(S,y){for(var $=0;$<S.length;$++)if(!y(S[$],$,S))return!1;return!0}t.all=b;function C(S){return d(S,function(y){return typeof y=="object"&&(y=X(y)),encodeURIComponent(base64_1.default(y.toString()))})}t.encodeParamsObject=C;function E(S){var y=f(S,function($){return $!==void 0});return l(h(C(y)),util_1.default.method("join","=")).join("&")}t.buildQueryString=E;function F(S){var y=[],$=[];return function p(T,q){var z,ne,v;switch(typeof T){case"object":if(!T)return null;for(z=0;z<y.length;z+=1)if(y[z]===T)return{$ref:$[z]};if(y.push(T),$.push(q),Object.prototype.toString.apply(T)==="[object Array]")for(v=[],z=0;z<T.length;z+=1)v[z]=p(T[z],q+"["+z+"]");else{v={};for(ne in T)Object.prototype.hasOwnProperty.call(T,ne)&&(v[ne]=p(T[ne],q+"["+JSON.stringify(ne)+"]"))}return v;case"number":case"string":case"boolean":return T}}(S,"$")}t.decycleObject=F;function X(S){try{return JSON.stringify(S)}catch{return JSON.stringify(F(S))}}return t.safeJSONStringify=X,t}(),bn=function(){function t(e){this.callbacks=new no,this.global_callbacks=[],this.failThrough=e}return t.prototype.on=function(e,o,n){return this.callbacks.add(e,o,n),this},t.prototype.on_global=function(e){return this.global_callbacks.push(e),this},t.prototype.off=function(e,o,n){return this.callbacks.remove(e,o,n),this},t.prototype.emit=function(e,o){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,o);var a=this.callbacks.get(e);if(a&&a.length>0)for(n=0;n<a.length;n++)a[n].fn.call(a[n].context||window,o);else this.failThrough&&this.failThrough(e,o);return this},t}(),no=function(){function t(){this._callbacks={}}return t.prototype.get=function(e){return this._callbacks[Mt(e)]},t.prototype.add=function(e,o,n){var a=Mt(e);this._callbacks[a]=this._callbacks[a]||[],this._callbacks[a].push({fn:o,context:n})},t.prototype.remove=function(e,o,n){if(!e&&!o&&!n){this._callbacks={};return}var a=e?[Mt(e)]:pt.keys(this._callbacks);o||n?this.removeCallback(a,o,n):this.removeAllCallbacks(a)},t.prototype.removeCallback=function(e,o,n){pt.apply(e,function(a){this._callbacks[a]=pt.filter(this._callbacks[a]||[],function(i){return o&&o!==i.fn||n&&n!==i.context}),this._callbacks[a].length===0&&delete this._callbacks[a]},this)},t.prototype.removeAllCallbacks=function(e){pt.apply(e,function(o){delete this._callbacks[o]},this)},t}();function Mt(t){return"_"+t}function oo(t){t=t||{},t.type=(t.type||"GET").toUpperCase(),t.dataType=t.dataType||"json";var e=ao(t.data),o;window.XMLHttpRequest?o=new XMLHttpRequest:o=ActiveXObject("Microsoft.XMLHTTP"),o.onreadystatechange=function(){if(o.readyState===4){var n=o.status;n>=200&&n<300?t.success&&t.success(o.responseText,o.responseXML):t.error&&t.error(n)}},t.type==="GET"?(o.open("GET",t.url+"?"+e,!0),o.send(null)):t.type==="POST"&&(o.open("POST",t.url,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(e))}function ao(t){var e=[];for(var o in t)e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")}var io={VITE_APP_TITLE:"SaiAdmin",VITE_APP_PORT:"8888",VITE_APP_OPEN_PROXY:"true",VITE_APP_BASE:"/",VITE_APP_TOKEN_PREFIX:"token",VITE_APP_ENV:"production",VITE_APP_BASE_URL:"http://admin.saithink.top",VITE_APP_WS_URL:"ws://127.0.0.1:9527",VITE_APP_PROXY_PREFIX:"/prod",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const so={class:"mr-2 flex justify-end lg:justify-between w-full lg:w-auto"},lo=["src"],ro={__name:"ma-operation",setup(t){Jt.useI18n();const e=hn(),o=De(),n=se();V(null);const a=we(),i=V(!1),s=localStorage.getItem("mode")==="dark",r=V(s),l=V(!1);V(!1);const d=async E=>{if(E==="userCenter"&&a.push({name:"userCenter"}),E==="clearCache"){const F=await Vn.clearAllCache();ot.local.remove("dictData"),F.code===200&&pn.success(F.message)}E==="logout"&&(l.value=!0,document.querySelector("#app").style.filter="grayscale(1)")},_=async()=>{await o.logout(),document.querySelector("#app").style.filter="grayscale(0)",a.push({name:"login"})},f=()=>{document.querySelector("#app").style.filter="grayscale(0)"},h=()=>{ot.screen(document.documentElement),i.value=!i.value},m=()=>{r.value=!r.value;const E=r.value?"dark":"light";localStorage.setItem("mode",E),n.toggleMode(E)};if(n.ws){const F=io.VITE_APP_PROXY_PREFIX;var b=new ge({url:"ws://127.0.0.1:3131",app_key:"231ec75fb0f7e5f26fb0ded56c2bae9d",auth:F+"/plugin/webman/push/auth"}),C=b.subscribe("saiadmin");C.on("message",function(X){Ln("新消息提示","您有新的消息，请注意查收！"),e.messageList=X.data})}return(E,F)=>{const X=g("icon-search"),S=g("a-button"),y=g("a-tooltip"),$=g("icon-fullscreen-exit"),p=g("icon-fullscreen"),T=g("icon-sun-fill"),q=g("icon-moon-fill"),z=g("icon-notification"),ne=g("a-badge"),v=g("a-trigger"),D=g("icon-settings"),R=g("a-space"),W=g("a-avatar"),G=g("icon-user"),oe=g("a-doption"),_e=g("icon-delete"),U=g("a-divider"),We=g("icon-poweroff"),ht=g("a-dropdown"),Xe=g("a-modal");return w(),j("div",so,[c(R,{class:"mr-0 lg:mr-5",size:"medium"},{default:u(()=>[c(y,{content:E.$t("sys.search")},{default:u(()=>[c(S,{shape:"circle",onClick:F[0]||(F[0]=()=>O(n).searchOpen=!0),class:"hidden lg:inline"},{icon:u(()=>[c(X)]),_:1})]),_:1},8,["content"]),c(y,{content:i.value?E.$t("sys.closeFullScreen"):E.$t("sys.fullScreen")},{default:u(()=>[c(S,{shape:"circle",class:"hidden lg:inline",onClick:h},{icon:u(()=>[i.value?(w(),P($,{key:0})):(w(),P(p,{key:1}))]),_:1})]),_:1},8,["content"]),c(y,{content:r.value?"白昼模式":"黑夜模式"},{default:u(()=>[c(S,{shape:"circle",class:"hidden lg:inline",onClick:m},{icon:u(()=>[r.value?(w(),P(T,{key:0})):(w(),P(q,{key:1}))]),_:1})]),_:1},8,["content"]),c(v,{trigger:"click"},{content:u(()=>[c(Zn)]),default:u(()=>[c(S,{shape:"circle"},{icon:u(()=>[O(e).messageList.length>0?(w(),P(ne,{key:0,count:5,dot:"",dotStyle:{width:"5px",height:"5px"}},{default:u(()=>[c(z)]),_:1})):(w(),P(z,{key:1}))]),_:1})]),_:1}),c(y,{content:E.$t("sys.pageSetting")},{default:u(()=>[c(S,{shape:"circle",onClick:F[1]||(F[1]=()=>O(n).settingOpen=!0),class:"hidden lg:inline"},{icon:u(()=>[c(D)]),_:1})]),_:1},8,["content"])]),_:1}),c(ht,{onSelect:d,trigger:"hover"},{content:u(()=>[c(oe,{value:"userCenter"},{default:u(()=>[c(G),A(" "+I(E.$t("sys.userCenter")),1)]),_:1}),c(oe,{value:"clearCache"},{default:u(()=>[c(_e),A(" "+I(E.$t("sys.clearCache")),1)]),_:1}),c(U,{style:{margin:"5px 0"}}),c(oe,{value:"logout"},{default:u(()=>[c(We),A(" "+I(E.$t("sys.logout")),1)]),_:1})]),default:u(()=>[c(W,{class:"bg-blue-500 text-3xl avatar",style:{top:"-1px"}},{default:u(()=>[x("img",{src:O(o).user&&O(o).user.avatar?E.$tool.showFile(O(o).user.avatar):E.$url+"avatar.jpg"},null,8,lo)]),_:1})]),_:1}),c(Xe,{visible:l.value,"onUpdate:visible":F[2]||(F[2]=Ze=>l.value=Ze),onOk:_,onCancel:f},{title:u(()=>[A(I(E.$t("sys.logoutAlert")),1)]),default:u(()=>[x("div",null,I(E.$t("sys.logoutMessage")),1)]),_:1},8,["visible"])])}}},Ot=Ne(ro,[["__scopeId","data-v-4470046f"]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function on(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),o.push.apply(o,n)}return o}function Ce(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?on(Object(o),!0).forEach(function(n){co(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):on(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function yt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yt=function(e){return typeof e}:yt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(t)}function co(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function $e(){return $e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},$e.apply(this,arguments)}function uo(t,e){if(t==null)return{};var o={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(o[a]=t[a]);return o}function fo(t,e){if(t==null)return{};var o=uo(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var ho="1.15.2";function xe(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ie=xe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),dt=xe(/Edge/i),an=xe(/firefox/i),at=xe(/safari/i)&&!xe(/chrome/i)&&!xe(/android/i),wn=xe(/iP(ad|od|hone)/i),Sn=xe(/chrome/i)&&xe(/android/i),kn={capture:!1,passive:!1};function H(t,e,o){t.addEventListener(e,o,!Ie&&kn)}function B(t,e,o){t.removeEventListener(e,o,!Ie&&kn)}function Ct(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function po(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ye(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Ct(t,e):Ct(t,e))||n&&t===o)return t;if(t===o)break}while(t=po(t))}return null}var sn=/\s+/g;function fe(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(sn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(sn," ")}}function M(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ye(t,e){var o="";if(typeof t=="string")o=t;else do{var n=M(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function Cn(t,e,o){if(t){var n=t.getElementsByTagName(e),a=0,i=n.length;if(o)for(;a<i;a++)o(n[a],a);return n}return[]}function ke(){var t=document.scrollingElement;return t||document.documentElement}function te(t,e,o,n,a){if(!(!t.getBoundingClientRect&&t!==window)){var i,s,r,l,d,_,f;if(t!==window&&t.parentNode&&t!==ke()?(i=t.getBoundingClientRect(),s=i.top,r=i.left,l=i.bottom,d=i.right,_=i.height,f=i.width):(s=0,r=0,l=window.innerHeight,d=window.innerWidth,_=window.innerHeight,f=window.innerWidth),(e||o)&&t!==window&&(a=a||t.parentNode,!Ie))do if(a&&a.getBoundingClientRect&&(M(a,"transform")!=="none"||o&&M(a,"position")!=="static")){var h=a.getBoundingClientRect();s-=h.top+parseInt(M(a,"border-top-width")),r-=h.left+parseInt(M(a,"border-left-width")),l=s+i.height,d=r+i.width;break}while(a=a.parentNode);if(n&&t!==window){var m=Ye(a||t),b=m&&m.a,C=m&&m.d;m&&(s/=C,r/=b,f/=b,_/=C,l=s+_,d=r+f)}return{top:s,left:r,bottom:l,right:d,width:f,height:_}}}function ln(t,e,o){for(var n=Me(t,!0),a=te(t)[e];n;){var i=te(n)[o],s=void 0;if(o==="top"||o==="left"?s=a>=i:s=a<=i,!s)return n;if(n===ke())break;n=Me(n,!1)}return!1}function Qe(t,e,o,n){for(var a=0,i=0,s=t.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==N.ghost&&(n||s[i]!==N.dragged)&&ye(s[i],o.draggable,t,!1)){if(a===e)return s[i];a++}i++}return null}function Kt(t,e){for(var o=t.lastElementChild;o&&(o===N.ghost||M(o,"display")==="none"||e&&!Ct(o,e));)o=o.previousElementSibling;return o||null}function me(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==N.clone&&(!e||Ct(t,e))&&o++;return o}function rn(t){var e=0,o=0,n=ke();if(t)do{var a=Ye(t),i=a.a,s=a.d;e+=t.scrollLeft*i,o+=t.scrollTop*s}while(t!==n&&(t=t.parentNode));return[e,o]}function mo(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Me(t,e){if(!t||!t.getBoundingClientRect)return ke();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=M(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return ke();if(n||e)return o;n=!0}}while(o=o.parentNode);return ke()}function go(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Nt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var it;function En(t,e){return function(){if(!it){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),it=setTimeout(function(){it=void 0},e)}}}function _o(){clearTimeout(it),it=void 0}function xn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function Tn(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function $n(t,e,o){var n={};return Array.from(t.children).forEach(function(a){var i,s,r,l;if(!(!ye(a,e.draggable,t,!1)||a.animated||a===o)){var d=te(a);n.left=Math.min((i=n.left)!==null&&i!==void 0?i:1/0,d.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,d.top),n.right=Math.max((r=n.right)!==null&&r!==void 0?r:-1/0,d.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var pe="Sortable"+new Date().getTime();function vo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(a){if(!(M(a,"display")==="none"||a===N.ghost)){t.push({target:a,rect:te(a)});var i=Ce({},t[t.length-1].rect);if(a.thisAnimationDuration){var s=Ye(a,!0);s&&(i.top-=s.f,i.left-=s.e)}a.fromRect=i}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(mo(t,{target:n}),1)},animateAll:function(n){var a=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var i=!1,s=0;t.forEach(function(r){var l=0,d=r.target,_=d.fromRect,f=te(d),h=d.prevFromRect,m=d.prevToRect,b=r.rect,C=Ye(d,!0);C&&(f.top-=C.f,f.left-=C.e),d.toRect=f,d.thisAnimationDuration&&Nt(h,f)&&!Nt(_,f)&&(b.top-f.top)/(b.left-f.left)===(_.top-f.top)/(_.left-f.left)&&(l=bo(b,h,m,a.options)),Nt(f,_)||(d.prevFromRect=_,d.prevToRect=f,l||(l=a.options.animation),a.animate(d,b,f,l)),l&&(i=!0,s=Math.max(s,l),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},l),d.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),t=[]},animate:function(n,a,i,s){if(s){M(n,"transition",""),M(n,"transform","");var r=Ye(this.el),l=r&&r.a,d=r&&r.d,_=(a.left-i.left)/(l||1),f=(a.top-i.top)/(d||1);n.animatingX=!!_,n.animatingY=!!f,M(n,"transform","translate3d("+_+"px,"+f+"px,0)"),this.forRepaintDummy=yo(n),M(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),M(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){M(n,"transition",""),M(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function yo(t){return t.offsetWidth}function bo(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var ze=[],Rt={initializeByDefault:!0},ft={mount:function(e){for(var o in Rt)Rt.hasOwnProperty(o)&&!(o in e)&&(e[o]=Rt[o]);ze.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ze.push(e)},pluginEvent:function(e,o,n){var a=this;this.eventCanceled=!1,n.cancel=function(){a.eventCanceled=!0};var i=e+"Global";ze.forEach(function(s){o[s.pluginName]&&(o[s.pluginName][i]&&o[s.pluginName][i](Ce({sortable:o},n)),o.options[s.pluginName]&&o[s.pluginName][e]&&o[s.pluginName][e](Ce({sortable:o},n)))})},initializePlugins:function(e,o,n,a){ze.forEach(function(r){var l=r.pluginName;if(!(!e.options[l]&&!r.initializeByDefault)){var d=new r(e,o,e.options);d.sortable=e,d.options=e.options,e[l]=d,$e(n,d.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var s=this.modifyOption(e,i,e.options[i]);typeof s<"u"&&(e.options[i]=s)}},getEventProperties:function(e,o){var n={};return ze.forEach(function(a){typeof a.eventProperties=="function"&&$e(n,a.eventProperties.call(o[a.pluginName],e))}),n},modifyOption:function(e,o,n){var a;return ze.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[o]=="function"&&(a=i.optionListeners[o].call(e[i.pluginName],n))}),a}};function wo(t){var e=t.sortable,o=t.rootEl,n=t.name,a=t.targetEl,i=t.cloneEl,s=t.toEl,r=t.fromEl,l=t.oldIndex,d=t.newIndex,_=t.oldDraggableIndex,f=t.newDraggableIndex,h=t.originalEvent,m=t.putSortable,b=t.extraEventProperties;if(e=e||o&&o[pe],!!e){var C,E=e.options,F="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ie&&!dt?C=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(n,!0,!0)),C.to=s||o,C.from=r||o,C.item=a||o,C.clone=i,C.oldIndex=l,C.newIndex=d,C.oldDraggableIndex=_,C.newDraggableIndex=f,C.originalEvent=h,C.pullMode=m?m.lastPutMode:void 0;var X=Ce(Ce({},b),ft.getEventProperties(n,e));for(var S in X)C[S]=X[S];o&&o.dispatchEvent(C),E[F]&&E[F].call(e,C)}}var So=["evt"],ue=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.evt,i=fo(n,So);ft.pluginEvent.bind(N)(e,o,Ce({dragEl:k,parentEl:K,ghostEl:L,rootEl:Y,nextEl:Fe,lastDownEl:bt,cloneEl:J,cloneHidden:Ae,dragStarted:et,putSortable:ae,activeSortable:N.active,originalEvent:a,oldIndex:Ue,oldDraggableIndex:st,newIndex:he,newDraggableIndex:Pe,hideGhostForTarget:Pn,unhideGhostForTarget:An,cloneNowHidden:function(){Ae=!0},cloneNowShown:function(){Ae=!1},dispatchSortableEvent:function(r){re({sortable:o,name:r,originalEvent:a})}},i))};function re(t){wo(Ce({putSortable:ae,cloneEl:J,targetEl:k,rootEl:Y,oldIndex:Ue,oldDraggableIndex:st,newIndex:he,newDraggableIndex:Pe},t))}var k,K,L,Y,Fe,bt,J,Ae,Ue,he,st,Pe,mt,ae,qe=!1,Et=!1,xt=[],Le,ve,Lt,Vt,cn,un,et,Be,lt,rt=!1,gt=!1,wt,le,Ft=[],Ht=!1,Tt=[],Dt=typeof document<"u",_t=wn,dn=dt||Ie?"cssFloat":"float",ko=Dt&&!Sn&&!wn&&"draggable"in document.createElement("div"),On=function(){if(Dt){if(Ie)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Dn=function(e,o){var n=M(e),a=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Qe(e,0,o),s=Qe(e,1,o),r=i&&M(i),l=s&&M(s),d=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+te(i).width,_=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+te(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&r.float&&r.float!=="none"){var f=r.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===f)?"vertical":"horizontal"}return i&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||d>=a&&n[dn]==="none"||s&&n[dn]==="none"&&d+_>a)?"vertical":"horizontal"},Co=function(e,o,n){var a=n?e.left:e.top,i=n?e.right:e.bottom,s=n?e.width:e.height,r=n?o.left:o.top,l=n?o.right:o.bottom,d=n?o.width:o.height;return a===r||i===l||a+s/2===r+d/2},Eo=function(e,o){var n;return xt.some(function(a){var i=a[pe].options.emptyInsertThreshold;if(!(!i||Kt(a))){var s=te(a),r=e>=s.left-i&&e<=s.right+i,l=o>=s.top-i&&o<=s.bottom+i;if(r&&l)return n=a}}),n},In=function(e){function o(i,s){return function(r,l,d,_){var f=r.options.group.name&&l.options.group.name&&r.options.group.name===l.options.group.name;if(i==null&&(s||f))return!0;if(i==null||i===!1)return!1;if(s&&i==="clone")return i;if(typeof i=="function")return o(i(r,l,d,_),s)(r,l,d,_);var h=(s?r:l).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var n={},a=e.group;(!a||yt(a)!="object")&&(a={name:a}),n.name=a.name,n.checkPull=o(a.pull,!0),n.checkPut=o(a.put),n.revertClone=a.revertClone,e.group=n},Pn=function(){!On&&L&&M(L,"display","none")},An=function(){!On&&L&&M(L,"display","")};Dt&&!Sn&&document.addEventListener("click",function(t){if(Et)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Et=!1,!1},!0);var Ve=function(e){if(k){e=e.touches?e.touches[0]:e;var o=Eo(e.clientX,e.clientY);if(o){var n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[pe]._onDragOver(n)}}},xo=function(e){k&&k.parentNode[pe]._isOutsideThisEl(e.target)};function N(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=$e({},e),t[pe]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Dn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,r){s.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:N.supportPointer!==!1&&"PointerEvent"in window&&!at,emptyInsertThreshold:5};ft.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);In(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ko,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?H(t,"pointerdown",this._onTapStart):(H(t,"mousedown",this._onTapStart),H(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(H(t,"dragover",this),H(t,"dragenter",this)),xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),$e(this,vo())}N.prototype={constructor:N,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Be=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,k):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,a=this.options,i=a.preventOnFilter,s=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(r||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,_=a.filter;if(Mo(n),!k&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&at&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ye(l,a.draggable,n,!1),!(l&&l.animated)&&bt!==l)){if(Ue=me(l),st=me(l,a.draggable),typeof _=="function"){if(_.call(this,e,l,this)){re({sortable:o,rootEl:d,name:"filter",targetEl:l,toEl:n,fromEl:n}),ue("filter",o,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(_&&(_=_.split(",").some(function(f){if(f=ye(d,f.trim(),n,!1),f)return re({sortable:o,rootEl:f,name:"filter",targetEl:l,fromEl:n,toEl:n}),ue("filter",o,{evt:e}),!0}),_)){i&&e.cancelable&&e.preventDefault();return}a.handle&&!ye(d,a.handle,n,!1)||this._prepareDragStart(e,r,l)}}},_prepareDragStart:function(e,o,n){var a=this,i=a.el,s=a.options,r=i.ownerDocument,l;if(n&&!k&&n.parentNode===i){var d=te(n);if(Y=i,k=n,K=k.parentNode,Fe=k.nextSibling,bt=n,mt=s.group,N.dragged=k,Le={target:k,clientX:(o||e).clientX,clientY:(o||e).clientY},cn=Le.clientX-d.left,un=Le.clientY-d.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,k.style["will-change"]="all",l=function(){if(ue("delayEnded",a,{evt:e}),N.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!an&&a.nativeDraggable&&(k.draggable=!0),a._triggerDragStart(e,o),re({sortable:a,name:"choose",originalEvent:e}),fe(k,s.chosenClass,!0)},s.ignore.split(",").forEach(function(_){Cn(k,_.trim(),jt)}),H(r,"dragover",Ve),H(r,"mousemove",Ve),H(r,"touchmove",Ve),H(r,"mouseup",a._onDrop),H(r,"touchend",a._onDrop),H(r,"touchcancel",a._onDrop),an&&this.nativeDraggable&&(this.options.touchStartThreshold=4,k.draggable=!0),ue("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(dt||Ie))){if(N.eventCanceled){this._onDrop();return}H(r,"mouseup",a._disableDelayedDrag),H(r,"touchend",a._disableDelayedDrag),H(r,"touchcancel",a._disableDelayedDrag),H(r,"mousemove",a._delayedDragTouchMoveHandler),H(r,"touchmove",a._delayedDragTouchMoveHandler),s.supportPointer&&H(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){k&&jt(k),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;B(e,"mouseup",this._disableDelayedDrag),B(e,"touchend",this._disableDelayedDrag),B(e,"touchcancel",this._disableDelayedDrag),B(e,"mousemove",this._delayedDragTouchMoveHandler),B(e,"touchmove",this._delayedDragTouchMoveHandler),B(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?H(document,"pointermove",this._onTouchMove):o?H(document,"touchmove",this._onTouchMove):H(document,"mousemove",this._onTouchMove):(H(k,"dragend",this),H(Y,"dragstart",this._onDragStart));try{document.selection?St(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(qe=!1,Y&&k){ue("dragStarted",this,{evt:o}),this.nativeDraggable&&H(document,"dragover",xo);var n=this.options;!e&&fe(k,n.dragClass,!1),fe(k,n.ghostClass,!0),N.active=this,e&&this._appendGhost(),re({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Pn();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e!==o);)o=e;if(k.parentNode[pe]._isOutsideThisEl(e),o)do{if(o[pe]){var n=void 0;if(n=o[pe]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);An()}},_onTouchMove:function(e){if(Le){var o=this.options,n=o.fallbackTolerance,a=o.fallbackOffset,i=e.touches?e.touches[0]:e,s=L&&Ye(L,!0),r=L&&s&&s.a,l=L&&s&&s.d,d=_t&&le&&rn(le),_=(i.clientX-Le.clientX+a.x)/(r||1)+(d?d[0]-Ft[0]:0)/(r||1),f=(i.clientY-Le.clientY+a.y)/(l||1)+(d?d[1]-Ft[1]:0)/(l||1);if(!N.active&&!qe){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(L){s?(s.e+=_-(Lt||0),s.f+=f-(Vt||0)):s={a:1,b:0,c:0,d:1,e:_,f};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");M(L,"webkitTransform",h),M(L,"mozTransform",h),M(L,"msTransform",h),M(L,"transform",h),Lt=_,Vt=f,ve=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!L){var e=this.options.fallbackOnBody?document.body:Y,o=te(k,!0,_t,!0,e),n=this.options;if(_t){for(le=e;M(le,"position")==="static"&&M(le,"transform")==="none"&&le!==document;)le=le.parentNode;le!==document.body&&le!==document.documentElement?(le===document&&(le=ke()),o.top+=le.scrollTop,o.left+=le.scrollLeft):le=ke(),Ft=rn(le)}L=k.cloneNode(!0),fe(L,n.ghostClass,!1),fe(L,n.fallbackClass,!0),fe(L,n.dragClass,!0),M(L,"transition",""),M(L,"transform",""),M(L,"box-sizing","border-box"),M(L,"margin",0),M(L,"top",o.top),M(L,"left",o.left),M(L,"width",o.width),M(L,"height",o.height),M(L,"opacity","0.8"),M(L,"position",_t?"absolute":"fixed"),M(L,"zIndex","100000"),M(L,"pointerEvents","none"),N.ghost=L,e.appendChild(L),M(L,"transform-origin",cn/parseInt(L.style.width)*100+"% "+un/parseInt(L.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,a=e.dataTransfer,i=n.options;if(ue("dragStart",this,{evt:e}),N.eventCanceled){this._onDrop();return}ue("setupClone",this),N.eventCanceled||(J=Tn(k),J.removeAttribute("id"),J.draggable=!1,J.style["will-change"]="",this._hideClone(),fe(J,this.options.chosenClass,!1),N.clone=J),n.cloneId=St(function(){ue("clone",n),!N.eventCanceled&&(n.options.removeCloneOnHide||Y.insertBefore(J,k),n._hideClone(),re({sortable:n,name:"clone"}))}),!o&&fe(k,i.dragClass,!0),o?(Et=!0,n._loopId=setInterval(n._emulateDragOver,50)):(B(document,"mouseup",n._onDrop),B(document,"touchend",n._onDrop),B(document,"touchcancel",n._onDrop),a&&(a.effectAllowed="move",i.setData&&i.setData.call(n,a,k)),H(document,"drop",n),M(k,"transform","translateZ(0)")),qe=!0,n._dragStartId=St(n._dragStarted.bind(n,o,e)),H(document,"selectstart",n),et=!0,at&&M(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,a,i,s,r=this.options,l=r.group,d=N.active,_=mt===l,f=r.sort,h=ae||d,m,b=this,C=!1;if(Ht)return;function E(U,We){ue(U,b,Ce({evt:e,isOwner:_,axis:m?"vertical":"horizontal",revert:s,dragRect:a,targetRect:i,canSort:f,fromSortable:h,target:n,completed:X,onMove:function(Xe,Ze){return vt(Y,o,k,a,Xe,te(Xe),e,Ze)},changed:S},We))}function F(){E("dragOverAnimationCapture"),b.captureAnimationState(),b!==h&&h.captureAnimationState()}function X(U){return E("dragOverCompleted",{insertion:U}),U&&(_?d._hideClone():d._showClone(b),b!==h&&(fe(k,ae?ae.options.ghostClass:d.options.ghostClass,!1),fe(k,r.ghostClass,!0)),ae!==b&&b!==N.active?ae=b:b===N.active&&ae&&(ae=null),h===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){E("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===k&&!k.animated||n===o&&!n.animated)&&(Be=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(k.parentNode[pe]._isOutsideThisEl(e.target),!U&&Ve(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function S(){he=me(k),Pe=me(k,r.draggable),re({sortable:b,name:"change",toEl:o,newIndex:he,newDraggableIndex:Pe,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ye(n,r.draggable,o,!0),E("dragOver"),N.eventCanceled)return C;if(k.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return X(!1);if(Et=!1,d&&!r.disabled&&(_?f||(s=K!==Y):ae===this||(this.lastPutMode=mt.checkPull(this,d,k,e))&&l.checkPut(this,d,k,e))){if(m=this._getDirection(e,n)==="vertical",a=te(k),E("dragOverValid"),N.eventCanceled)return C;if(s)return K=Y,F(),this._hideClone(),E("revert"),N.eventCanceled||(Fe?Y.insertBefore(k,Fe):Y.appendChild(k)),X(!0);var y=Kt(o,r.draggable);if(!y||Do(e,m,this)&&!y.animated){if(y===k)return X(!1);if(y&&o===e.target&&(n=y),n&&(i=te(n)),vt(Y,o,k,a,n,i,e,!!n)!==!1)return F(),y&&y.nextSibling?o.insertBefore(k,y.nextSibling):o.appendChild(k),K=o,S(),X(!0)}else if(y&&Oo(e,m,this)){var $=Qe(o,0,r,!0);if($===k)return X(!1);if(n=$,i=te(n),vt(Y,o,k,a,n,i,e,!1)!==!1)return F(),o.insertBefore(k,$),K=o,S(),X(!0)}else if(n.parentNode===o){i=te(n);var p=0,T,q=k.parentNode!==o,z=!Co(k.animated&&k.toRect||a,n.animated&&n.toRect||i,m),ne=m?"top":"left",v=ln(n,"top","top")||ln(k,"top","top"),D=v?v.scrollTop:void 0;Be!==n&&(T=i[ne],rt=!1,gt=!z&&r.invertSwap||q),p=Io(e,n,i,m,z?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,gt,Be===n);var R;if(p!==0){var W=me(k);do W-=p,R=K.children[W];while(R&&(M(R,"display")==="none"||R===L))}if(p===0||R===n)return X(!1);Be=n,lt=p;var G=n.nextElementSibling,oe=!1;oe=p===1;var _e=vt(Y,o,k,a,n,i,e,oe);if(_e!==!1)return(_e===1||_e===-1)&&(oe=_e===1),Ht=!0,setTimeout($o,30),F(),oe&&!G?o.appendChild(k):n.parentNode.insertBefore(k,oe?G:n),v&&xn(v,0,D-v.scrollTop),K=k.parentNode,T!==void 0&&!gt&&(wt=Math.abs(T-te(n)[ne])),S(),X(!0)}if(o.contains(k))return X(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){B(document,"mousemove",this._onTouchMove),B(document,"touchmove",this._onTouchMove),B(document,"pointermove",this._onTouchMove),B(document,"dragover",Ve),B(document,"mousemove",Ve),B(document,"touchmove",Ve)},_offUpEvents:function(){var e=this.el.ownerDocument;B(e,"mouseup",this._onDrop),B(e,"touchend",this._onDrop),B(e,"pointerup",this._onDrop),B(e,"touchcancel",this._onDrop),B(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(he=me(k),Pe=me(k,n.draggable),ue("drop",this,{evt:e}),K=k&&k.parentNode,he=me(k),Pe=me(k,n.draggable),N.eventCanceled){this._nulling();return}qe=!1,gt=!1,rt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qt(this.cloneId),qt(this._dragStartId),this.nativeDraggable&&(B(document,"drop",this),B(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),at&&M(document.body,"user-select",""),M(k,"transform",""),e&&(et&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),L&&L.parentNode&&L.parentNode.removeChild(L),(Y===K||ae&&ae.lastPutMode!=="clone")&&J&&J.parentNode&&J.parentNode.removeChild(J),k&&(this.nativeDraggable&&B(k,"dragend",this),jt(k),k.style["will-change"]="",et&&!qe&&fe(k,ae?ae.options.ghostClass:this.options.ghostClass,!1),fe(k,this.options.chosenClass,!1),re({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),Y!==K?(he>=0&&(re({rootEl:K,name:"add",toEl:K,fromEl:Y,originalEvent:e}),re({sortable:this,name:"remove",toEl:K,originalEvent:e}),re({rootEl:K,name:"sort",toEl:K,fromEl:Y,originalEvent:e}),re({sortable:this,name:"sort",toEl:K,originalEvent:e})),ae&&ae.save()):he!==Ue&&he>=0&&(re({sortable:this,name:"update",toEl:K,originalEvent:e}),re({sortable:this,name:"sort",toEl:K,originalEvent:e})),N.active&&((he==null||he===-1)&&(he=Ue,Pe=st),re({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ue("nulling",this),Y=k=K=L=Fe=J=bt=Ae=Le=ve=et=he=Pe=Ue=st=Be=lt=ae=mt=N.dragged=N.ghost=N.clone=N.active=null,Tt.forEach(function(e){e.checked=!0}),Tt.length=Lt=Vt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":k&&(this._onDragOver(e),To(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,a=0,i=n.length,s=this.options;a<i;a++)o=n[a],ye(o,s.draggable,this.el,!1)&&e.push(o.getAttribute(s.dataIdAttr)||Ao(o));return e},sort:function(e,o){var n={},a=this.el;this.toArray().forEach(function(i,s){var r=a.children[s];ye(r,this.options.draggable,a,!1)&&(n[i]=r)},this),o&&this.captureAnimationState(),e.forEach(function(i){n[i]&&(a.removeChild(n[i]),a.appendChild(n[i]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return ye(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var a=ft.modifyOption(this,e,o);typeof a<"u"?n[e]=a:n[e]=o,e==="group"&&In(n)},destroy:function(){ue("destroy",this);var e=this.el;e[pe]=null,B(e,"mousedown",this._onTapStart),B(e,"touchstart",this._onTapStart),B(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(B(e,"dragover",this),B(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xt.splice(xt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ae){if(ue("hideClone",this),N.eventCanceled)return;M(J,"display","none"),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),Ae=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ae){if(ue("showClone",this),N.eventCanceled)return;k.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(J,k):Fe?Y.insertBefore(J,Fe):Y.appendChild(J),this.options.group.revertClone&&this.animate(k,J),M(J,"display",""),Ae=!1}}};function To(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function vt(t,e,o,n,a,i,s,r){var l,d=t[pe],_=d.options.onMove,f;return window.CustomEvent&&!Ie&&!dt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=o,l.draggedRect=n,l.related=a||e,l.relatedRect=i||te(e),l.willInsertAfter=r,l.originalEvent=s,t.dispatchEvent(l),_&&(f=_.call(d,l,s)),f}function jt(t){t.draggable=!1}function $o(){Ht=!1}function Oo(t,e,o){var n=te(Qe(o.el,0,o.options,!0)),a=$n(o.el,o.options,L),i=10;return e?t.clientX<a.left-i||t.clientY<n.top&&t.clientX<n.right:t.clientY<a.top-i||t.clientY<n.bottom&&t.clientX<n.left}function Do(t,e,o){var n=te(Kt(o.el,o.options.draggable)),a=$n(o.el,o.options,L),i=10;return e?t.clientX>a.right+i||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>a.bottom+i||t.clientX>n.right&&t.clientY>n.top}function Io(t,e,o,n,a,i,s,r){var l=n?t.clientY:t.clientX,d=n?o.height:o.width,_=n?o.top:o.left,f=n?o.bottom:o.right,h=!1;if(!s){if(r&&wt<d*a){if(!rt&&(lt===1?l>_+d*i/2:l<f-d*i/2)&&(rt=!0),rt)h=!0;else if(lt===1?l<_+wt:l>f-wt)return-lt}else if(l>_+d*(1-a)/2&&l<f-d*(1-a)/2)return Po(e)}return h=h||s,h&&(l<_+d*i/2||l>f-d*i/2)?l>_+d/2?1:-1:0}function Po(t){return me(k)<me(t)?1:-1}function Ao(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function Mo(t){Tt.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&Tt.push(n)}}function St(t){return setTimeout(t,0)}function qt(t){return clearTimeout(t)}Dt&&H(document,"touchmove",function(t){(N.active||qe)&&t.cancelable&&t.preventDefault()});N.utils={on:H,off:B,css:M,find:Cn,is:function(e,o){return!!ye(e,o,e,!1)},extend:go,throttle:En,closest:ye,toggleClass:fe,clone:Tn,index:me,nextTick:St,cancelNextTick:qt,detectDirection:Dn,getChild:Qe};N.get=function(t){return t[pe]};N.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(N.utils=Ce(Ce({},N.utils),n.utils)),ft.mount(n)})};N.create=function(t,e){return new N(t,e)};N.version=ho;var ee=[],tt,Ut,Yt=!1,Wt,Xt,$t,nt;function No(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):this.options.supportPointer?H(document,"pointermove",this._handleFallbackAutoScroll):n.touches?H(document,"touchmove",this._handleFallbackAutoScroll):H(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?B(document,"dragover",this._handleAutoScroll):(B(document,"pointermove",this._handleFallbackAutoScroll),B(document,"touchmove",this._handleFallbackAutoScroll),B(document,"mousemove",this._handleFallbackAutoScroll)),fn(),kt(),_o()},nulling:function(){$t=Ut=tt=Yt=nt=Wt=Xt=null,ee.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var a=this,i=(o.touches?o.touches[0]:o).clientX,s=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(i,s);if($t=o,n||this.options.forceAutoScrollFallback||dt||Ie||at){zt(o,this.options,r,n);var l=Me(r,!0);Yt&&(!nt||i!==Wt||s!==Xt)&&(nt&&fn(),nt=setInterval(function(){var d=Me(document.elementFromPoint(i,s),!0);d!==l&&(l=d,kt()),zt(o,a.options,d,n)},10),Wt=i,Xt=s)}else{if(!this.options.bubbleScroll||Me(r,!0)===ke()){kt();return}zt(o,this.options,Me(r,!1),!1)}}},$e(t,{pluginName:"scroll",initializeByDefault:!0})}function kt(){ee.forEach(function(t){clearInterval(t.pid)}),ee=[]}function fn(){clearInterval(nt)}var zt=En(function(t,e,o,n){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,r=e.scrollSpeed,l=ke(),d=!1,_;Ut!==o&&(Ut=o,kt(),tt=e.scroll,_=e.scrollFn,tt===!0&&(tt=Me(o,!0)));var f=0,h=tt;do{var m=h,b=te(m),C=b.top,E=b.bottom,F=b.left,X=b.right,S=b.width,y=b.height,$=void 0,p=void 0,T=m.scrollWidth,q=m.scrollHeight,z=M(m),ne=m.scrollLeft,v=m.scrollTop;m===l?($=S<T&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),p=y<q&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):($=S<T&&(z.overflowX==="auto"||z.overflowX==="scroll"),p=y<q&&(z.overflowY==="auto"||z.overflowY==="scroll"));var D=$&&(Math.abs(X-a)<=s&&ne+S<T)-(Math.abs(F-a)<=s&&!!ne),R=p&&(Math.abs(E-i)<=s&&v+y<q)-(Math.abs(C-i)<=s&&!!v);if(!ee[f])for(var W=0;W<=f;W++)ee[W]||(ee[W]={});(ee[f].vx!=D||ee[f].vy!=R||ee[f].el!==m)&&(ee[f].el=m,ee[f].vx=D,ee[f].vy=R,clearInterval(ee[f].pid),(D!=0||R!=0)&&(d=!0,ee[f].pid=setInterval((function(){n&&this.layer===0&&N.active._onTouchMove($t);var G=ee[this.layer].vy?ee[this.layer].vy*r:0,oe=ee[this.layer].vx?ee[this.layer].vx*r:0;typeof _=="function"&&_.call(N.dragged.parentNode[pe],oe,G,t,$t,ee[this.layer].el)!=="continue"||xn(ee[this.layer].el,oe,G)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&h!==l&&(h=Me(h,!1)));Yt=d}},30),Mn=function(e){var o=e.originalEvent,n=e.putSortable,a=e.dragEl,i=e.activeSortable,s=e.dispatchSortableEvent,r=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(o){var d=n||i;r();var _=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,f=document.elementFromPoint(_.clientX,_.clientY);l(),d&&!d.el.contains(f)&&(s("spill"),this.onSpill({dragEl:a,putSortable:n}))}};function Qt(){}Qt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var a=Qe(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Mn};$e(Qt,{pluginName:"revertOnSpill"});function Zt(){}Zt.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,a=n||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:Mn};$e(Zt,{pluginName:"removeOnSpill"});N.mount(new No);N.mount(Zt,Qt);const Ro=t=>(jn("data-v-0c86f6b5"),t=t(),Wn(),t),Lo={key:0,class:"flex justify-between tags-container",ref:"containerDom"},Vo=["onContextmenu","onClick"],Fo={key:0,class:"ma-tag-prev"},jo={key:1,class:"ma-tag-next"},Wo=Ro(()=>x("span",{class:"ma-tags-more"},[x("span",{class:"ma-tags-more-icon"},[x("i",{class:"ma-box ma-box-t"}),x("i",{class:"ma-box ma-box-b"})])],-1)),Xo={class:"ma-tags-more-contextmenu"},zo={__name:"ma-tags",setup(t){const e=Oe(),o=we(),n=se(),a=ct(),i=V(null),s=V(!1),r=V(!1),l=V(null),d=V(0),_=V(0),f=["login"];de(()=>n.tag,v=>{He(()=>{(i.value.scrollWidth??!1)&&i.value.offsetWidth&&(s.value=i.value.scrollWidth>i.value.offsetWidth)})},{deep:!0}),de(()=>a.tags,v=>{He(()=>{(i.value.scrollWidth??!1)&&i.value.offsetWidth&&(s.value=i.value.scrollWidth>i.value.offsetWidth)})},{deep:!0}),de(()=>e,v=>{f.includes(v.name)||Fn({name:v.name,path:v.fullPath,affix:v.meta.affix,title:v.meta.title}),He(()=>{i.value&&i.value.scrollWidth>i.value.clientWidth&&i.value.querySelector(".active").scrollIntoView()})},{deep:!0}),de(r,v=>{const D=R=>{const W=document.querySelector(".tags-contextmenu");W&&!W.contains(R.target)&&b()};v?document.body.addEventListener("click",R=>D(R)):document.body.removeEventListener("click",R=>D(R))});const h=v=>{o.push({path:v.path,query:ot.getRequestParams(v.path)})},m=(v,D)=>{l.value=D,r.value=!0,d.value=v.clientX+1,_.value=v.clientY+1,He(()=>{const R=document.querySelector(".tags-contextmenu");document.body.offsetWidth-v.clientX<R.offsetWidth&&(d.value=document.body.offsetWidth-R.offsetWidth+1,_.value=v.clientY+1)})},b=()=>{l.value=null,r.value=!1},C=()=>{const v=l.value;r.value=!1,e.fullPath!=v.fullPath&&o.push({path:v.path,query:ot.getRequestParams(v.path)}),document.getElementById("app").classList.add("max-size")},E=()=>{const v=l.value;r.value=!1,e.fullPath!=v.fullPath&&o.push({path:v.path,query:ot.getRequestParams(v.path)}),nn()},F=()=>{nn()},X=()=>{[...a.tags].forEach(D=>{(D.affix||e.path==D.path)&&Re(D)})},S=()=>{l.value.affix||(Re(l.value),r.value=!1)},y=()=>{const v=l.value;e.path!=v.path&&o.push({path:v.path});const D=[...a.tags];let R=null;D.forEach((W,G)=>{v.path==W.path&&(R=G)}),D.forEach((W,G)=>{if(W.affix||v.path==W.path)return!0;G>R&&Re(W)}),r.value=!1},$=()=>{const v=l.value;e.path!=v.path&&o.push({path:v.path});const D=[...a.tags];let R=null;D.forEach((W,G)=>{v.path==W.path&&(R=G)}),D.forEach((W,G)=>{if(W.affix||v.path==W.path)return!0;G<R&&Re(W)}),r.value=!1},p=()=>{[...a.tags].forEach(D=>{if(D.affix||e.path==D.path)return!0;Re(D)}),r.value=!1},T=()=>{const v=l.value;e.path!=v.path&&o.push({path:v.path}),[...a.tags].forEach(R=>{if(R.affix||v.path==R.path)return!0;Re(R)}),r.value=!1},q=v=>{const D=v.wheelDelta||v.detail,R=1,W=-1;let G=0;D==3||D<0&&D!=-3?G=R*50:G=W*50,i.value.scrollLeft+=G},z=v=>{const D=i.value.scrollLeft,R=D+v,W=v/50;ne(D,R,W)},ne=(v,D,R)=>{R>0?v<D?(v+=R,i.value.scrollLeft=v,window.requestAnimationFrame(()=>{ne(v,D,R)})):i.value.scrollLeft=D:v>D?(v+=R,i.value.scrollLeft=v,window.requestAnimationFrame(()=>{ne(v,D,R)})):i.value.scrollLeft=D};return be(()=>{i.value&&(N.create(i.value,{draggable:"a",animation:300}),i.value.addEventListener("mousewheel",q,{passive:!0})||i.value.addEventListener("DOMMouseScroll",q,{passive:!0}),He(()=>{s.value=i.value.scrollWidth>i.value.offsetWidth}))}),(v,D)=>{const R=g("icon-close"),W=g("IconLeft"),G=g("IconRight"),oe=g("icon-refresh"),_e=g("a-divider"),U=g("icon-close-circle"),We=g("icon-close-circle-fill"),ht=g("a-trigger"),Xe=g("icon-fullscreen"),Ze=g("icon-arrow-right"),Rn=g("icon-arrow-left");return O(n).tag?(w(),j("div",Lo,[x("div",{class:ie(["menu-tags-wrapper",{"tag-pn":s.value}]),ref:"scrollbarDom"},[x("div",{class:"tags",ref_key:"tags",ref:i},[(w(!0),j(Z,null,Se(O(a).tags,ce=>(w(),j("a",{key:ce.path,onContextmenu:tn(At=>m(At,ce),["prevent"]),class:ie(O(e).fullPath==ce.path?"active":""),onClick:At=>h(ce)},[A(I(ce.customTitle?ce.customTitle:O(n).i18n?v.$t("menus."+ce.name).indexOf(".")>0?ce.title:v.$t("menus."+ce.name):ce.title)+" ",1),ce.affix?Q("",!0):(w(),P(R,{key:0,class:"tag-icon",onClick:tn(At=>O(Re)(ce),["stop"])},null,8,["onClick"]))],42,Vo))),128))],512),s.value?(w(),j("span",Fo,[c(W,{size:20,class:"tag-scroll-icon",onClick:D[0]||(D[0]=ce=>z(-500))})])):Q("",!0),s.value?(w(),j("span",jo,[c(G,{size:20,class:"tag-scroll-icon",onClick:D[1]||(D[1]=ce=>z(500))})])):Q("",!0)],2),c(ht,{class:"ma-tags-more-dropdown","popup-translate":[-65,-6],"show-arrow":!0,trigger:"hover"},{content:u(()=>[x("ul",Xo,[x("li",{onClick:F},[c(oe),A(" "+I(v.$t("sys.tags.refresh")),1)]),c(_e,{class:"dropdown-divider"}),x("li",{onClick:X},[c(U),A(" "+I(v.$t("sys.tags.closeTag")),1)]),x("li",{onClick:p},[c(We),A(" "+I(v.$t("sys.tags.closeOtherTag")),1)])])]),default:u(()=>[Wo]),_:1}),r.value?(w(),j("ul",{key:0,class:"tags-contextmenu",style:Ee({left:d.value+"px",top:_.value+"px"})},[x("li",{onClick:E},[c(oe),A(" "+I(v.$t("sys.tags.refresh")),1)]),x("li",{onClick:C},[c(Xe),A(" "+I(v.$t("sys.tags.fullscreen")),1)]),c(_e),x("li",{onClick:y},[c(Ze),A(" "+I(v.$t("sys.tags.closeRightTag")),1)]),x("li",{onClick:$},[c(Rn),A(" "+I(v.$t("sys.tags.closeLeftTag")),1)]),x("li",{onClick:S,class:ie(l.value.affix?"disabled":"")},[c(U),A(" "+I(v.$t("sys.tags.closeTag")),1)],2),x("li",{onClick:T},[c(We),A(" "+I(v.$t("sys.tags.closeOtherTag")),1)])],4)):Q("",!0)],512)):Q("",!0)}}},It=Ne(zo,[["__scopeId","data-v-0c86f6b5"]]),Bo={class:"flex justify-between",style:{height:"50px"}},Ho=["src"],qo={__name:"ma-columns-header",setup(t){return(e,o)=>{const n=g("a-avatar"),a=g("a-layout-header");return w(),P(a,{class:"layout-header flex flex-col operation-area"},{default:u(()=>[x("div",Bo,[c(n,{class:"mt-1 ml-2 inline lg:hidden",style:{width:"45px"},size:40},{default:u(()=>[x("img",{src:`${e.$url}logo.png`,class:"bg-white"},null,8,Ho)]),_:1}),c(_n),c(Ot)]),c(It,{class:"hidden lg:flex"})]),_:1})}}},Nn={__name:"children-menu",props:{modelValue:Array},emits:["go"],setup(t,{emit:e}){const o=we(),n=se(),a=ct(),i=s=>{s.meta&&s.meta.type==="L"?window.open(s.path):(o.push(s.path),a.addTag({name:s.name,title:s.meta.title,path:s.path}))};return(s,r)=>{const l=g("a-menu-item"),d=g("children-menu",!0),_=g("a-sub-menu"),f=g("a-layout-content");return w(),P(f,{class:"sys-menus"},{default:u(()=>[(w(!0),j(Z,null,Se(t.modelValue,h=>(w(),j(Z,{key:h.id},[h.meta.hidden?Q("",!0):(w(),j(Z,{key:0},[!h.children||h.children.length===0?(w(),P(l,{key:h.name,onClick:m=>i(h)},Ge({default:u(()=>[A(" "+I(O(n).i18n?s.$t(`menus.${h.name}`).indexOf(".")>0?h.meta.title:s.$t(`menus.${h.name}`):h.meta.title),1)]),_:2},[h.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(h.meta.icon),{class:ie(h.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1032,["onClick"])):(w(),P(_,{key:h.name},Ge({title:u(()=>[A(I(O(n).i18n?s.$t(`menus.${h.name}`).indexOf(".")>0?h.meta.title:s.$t(`menus.${h.name}`):h.meta.title),1)]),default:u(()=>[h.children?(w(),P(d,{key:0,modelValue:h.children,"onUpdate:modelValue":m=>h.children=m},null,8,["modelValue","onUpdate:modelValue"])):Q("",!0)]),_:2},[h.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(h.meta.icon),{class:ie(h.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1024))],64))],64))),128))]),_:1})}}},Uo={__name:"ma-menu",props:{height:{type:String,default:"100%"}},setup(t,{expose:e}){we();const o=Oe(),{t:n}=Jt.useI18n(),a=se();De();const i=V([]),s=V([]),r=V([]),l=V("");be(()=>{s.value=[o.name],_()}),de(()=>o,m=>{s.value=[m.name],_()},{deep:!0});const d=m=>{m.children&&m.children.length>0&&(i.value=m.children,a.i18n?l.value=n("menus."+m.name).indexOf(".")>0?m.meta.title:n("menus."+m.name):l.value=m.meta.title)},_=()=>{o.matched[1]&&o.matched[1].meta&&!o.matched[1].meta.breadcrumb?(r.value=[],o.matched.map((m,b)=>{o.matched[0].name==="layout"&&r.value.push("home")})):(r.value=[],o.matched[1]&&o.matched[1].meta&&o.matched[1].meta.breadcrumb.map(m=>{r.value.push(m.name)}))},f=m=>{a.toggleMenu(m)},h=t;return e({loadChildMenu:d,title:l,actives:s,menus:i,openKeys:r,findTopMenuName:_}),(m,b)=>{const C=g("a-menu");return w(),P(C,{class:"ma-menu",style:Ee({width:O(a).menuWidth+"px",height:h.height}),breakpoint:"md","open-keys":r.value,"onUpdate:openKeys":b[1]||(b[1]=E=>r.value=E),"selected-keys":s.value,"onUpdate:selectedKeys":b[2]||(b[2]=E=>s.value=E),accordion:!0,"collapsed-width":45,"show-collapse-button":"",collapsed:O(a).menuCollapse,onCollapse:f,"popup-max-height":360,"auto-scroll-into-view":""},{default:u(()=>[c(Nn,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=E=>i.value=E)},null,8,["modelValue"])]),_:1},8,["style","open-keys","selected-keys","collapsed"])}}},en=Ne(Uo,[["__scopeId","data-v-4392256b"]]),Yo={class:"sider customer-scrollbar flex flex-col items-center bg-gray-800 dark:border-blackgray-5"},Go=["src"],Jo={class:"mt-1 parent-menu-container"},Ko=["onClick"],Qo={class:"layout-menu shadow flex flex-col"},Zo={__name:"ma-columns-menu",setup(t){const e=Oe(),o=we(),n=V(null),a=se(),i=De(),s=V(!1),r=V(""),l=V("flex flex-col parent-menu items-center rounded mt-1 text-gray-200 hover:bg-gray-700 dark:hover:text-gray-50 dark:hover:bg-blackgray-1");be(()=>{d()}),de(()=>e,f=>{d()},{deep:!0});const d=()=>{var h,m;let f;(m=(h=e.matched[1])==null?void 0:h.meta)!=null&&m.breadcrumb?f=e.matched[1].meta.breadcrumb[0].name:f="home",i.routers&&i.routers.length>0&&i.routers.map((b,C)=>{b.name==f&&_(b,C)})},_=(f,h)=>{var m;if(f.meta.type==="L"){window.open(f.path);return}f.children&&f.children.length>0?(n.value.loadChildMenu(f),s.value=!0):(s.value=!1,o.push(f.path)),r.value=(m=n.value)==null?void 0:m.title,document.querySelectorAll(".parent-menu").forEach((b,C)=>{h!==C?b.classList.remove("active"):b.classList.add("active")})};return(f,h)=>{const m=g("a-avatar"),b=g("a-layout-sider");return w(),j(Z,null,[x("div",Yo,[c(m,{class:"mt-2",size:40},{default:u(()=>[x("img",{src:`${f.$url}logo.png`,class:"bg-white"},null,8,Go)]),_:1}),x("ul",Jo,[(w(!0),j(Z,null,Se(O(i).routers,(C,E)=>(w(),j("li",{key:E,class:ie(`${l.value}`),onClick:F=>_(C,E)},[C.meta.icon?(w(),P(Te(C.meta.icon),{key:0,class:"text-xl mt-1"})):Q("",!0),x("span",{class:"mt-0.5",style:Ee(O(a).language==="en"?"font-size: 10px":"")},I(O(a).i18n?f.$t(`menus.${C.name}`).indexOf(".")>0?C.meta.title:f.$t(`menus.${C.name}`):C.meta.title),5)],10,Ko))),128))])]),Je(x("div",Qo,[Je(x("div",{class:"menu-title flex items-center"},I(r.value),513),[[Ke,!O(a).menuCollapse]]),c(b,{style:Ee(`width: ${O(a).menuCollapse?"50px":O(a).menuWidth+"px"};
        height: ${O(a).menuCollapse?"100%":"calc(100% - 51px)"};`)},{default:u(()=>[c(en,{ref_key:"MaMenuRef",ref:n,class:ie(O(a).menuCollapse?"ml-0.5":"")},null,8,["class"])]),_:1},8,["style"])],512),[[Ke,s.value]])],64)}}},ea={class:"w-full h-full"},ta=["src"],na={__name:"iframe-view",setup(t){const e=Xn(),o=Oe();de(()=>o,a=>{n(a)},{deep:!0});const n=a=>{a.meta.type==="I"&&e.addIframe(a)};return n(o),(a,i)=>Je((w(),j("div",ea,[(w(!0),j(Z,null,Se(O(e).iframes,s=>Je((w(),j("iframe",{src:s.meta.url,key:s.name,frameborder:"0",class:"w-full h-full"},null,8,ta)),[[Ke,s.meta.url===a.$route.meta.url]])),128))],512)),[[Ke,a.$route.meta.type==="I"]])}},Pt={__name:"ma-workerArea",setup(t){const e=se(),o=zn();return(n,a)=>{const i=g("router-view"),s=g("a-layout-content");return w(),P(s,{class:"work-area customer-scrollbar relative"},{default:u(()=>[x("div",{class:ie(["h-full",{"p-3":n.$route.path.indexOf("maIframe")===-1}])},[c(i,null,{default:u(({Component:r})=>[c(mn,{name:O(e).animation,mode:"out-in"},{default:u(()=>[(w(),P(Bn,{include:O(o).keepAlives},[O(o).show?(w(),P(Te(r),{key:n.$route.fullPath})):Q("",!0)],1032,["include"]))]),_:2},1032,["name"])]),_:1}),c(na)],2)]),_:1})}}},oa={id:"layout-columns-left-panel",class:"ma-ui-menu layout-columns-left-panel hidden lg:flex justify-between"},aa={__name:"index",setup(t){const e=V(0);return be(()=>{const o=document.getElementById("layout-columns-left-panel");new gn(a=>{for(const i of a)switch(i.target){case o:e.value=i.contentRect.width;break}}).observe(o)}),(o,n)=>{const a=g("a-layout-content");return w(),P(a,{class:"layout flex justify-between"},{default:u(()=>[x("div",oa,[c(Zo)]),x("div",{class:"layout-columns-right-panel flex flex-col",style:Ee(`width: calc(100% - ${e.value}px)`)},[c(qo,{class:"ma-ui-header"}),c(Pt)],4)]),_:1})}}},ia={class:"flex justify-center logo"},sa=["src"],la={key:0,class:"ml-2 text-xl mt-2.5"},ra={__name:"ma-classic-slider",setup(t){const e=V(null),o=De(),n=se();return be(()=>{setTimeout(a=>{e.value.menus=o.routers},50)}),(a,i)=>{const s=g("a-avatar"),r=g("a-layout-sider");return w(),P(r,{class:"layout-classic-sider h-full flex flex-col hidden lg:block",style:Ee(`width: ${O(n).menuCollapse?"48px":O(n).menuWidth+"px"};`)},{default:u(()=>[x("div",ia,[c(s,{class:"mt-1",size:40},{default:u(()=>[x("img",{src:`${a.$url}logo.png`,class:"bg-white"},null,8,sa)]),_:1}),O(n).menuCollapse?Q("",!0):(w(),j("span",la,I(a.$title),1))]),c(en,{ref_key:"MaMenuRef",ref:e,height:"calc(100% - 51px)",class:ie(`${O(n).menuCollapse?"ml-1.5":""};`)},null,8,["class"])]),_:1},8,["style"])}}},ca={class:"flex justify-between layout-classic-header-container"},ua=["src"],da={__name:"ma-classic-header",setup(t){return(e,o)=>{const n=g("a-avatar"),a=g("a-layout-header");return w(),P(a,{class:"layout-classic-header flex flex-col operation-area"},{default:u(()=>[x("div",ca,[c(n,{class:"mt-1 ml-2 inline lg:hidden",style:{width:"45px"},size:40},{default:u(()=>[x("img",{src:`${e.$url}logo.png`,class:"bg-white"},null,8,ua)]),_:1}),c(_n),c(Ot)]),c(It,{class:"hidden lg:flex"})]),_:1})}}},fa={__name:"index",setup(t){return(e,o)=>{const n=g("a-layout-content"),a=g("a-layout");return w(),P(a,{class:"layout flex justify-between h-full"},{default:u(()=>[c(ra,{class:"ma-ui-slider"}),c(n,{class:"flex flex-col"},{default:u(()=>[c(da,{class:"ma-ui-header"}),c(Pt)]),_:1})]),_:1})}}},ha={__name:"sub-menu",props:{menuInfo:Object},emits:["go"],setup(t,{emit:e}){const o=we(),n=ct(),a=se(),i=s=>{s.meta&&s.meta.type==="L"?window.open(s.path):(o.push(s.path),n.addTag({name:s.name,title:s.meta.title,path:s.path}))};return(s,r)=>{const l=g("a-menu-item"),d=g("SubMenu",!0),_=g("a-sub-menu");return w(),P(_,{key:t.menuInfo.name},Ge({title:u(()=>[A(I(O(a).i18n?s.$t(`menus.${t.menuInfo.name}`).indexOf(".")>0?t.menuInfo.meta.title:s.$t(`menus.${t.menuInfo.name}`):t.menuInfo.meta.title),1)]),default:u(()=>[(w(!0),j(Z,null,Se(t.menuInfo.children,f=>(w(),j(Z,{key:f.id},[!f.children||f.children.length===0?(w(),P(l,{key:f.name,onClick:h=>i(f)},Ge({default:u(()=>[A(" "+I(O(a).i18n?s.$t(`menus.${f.name}`).indexOf(".")>0?f.meta.title:s.$t(`menus.${f.name}`):f.meta.title),1)]),_:2},[f.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(f.meta.icon),{class:ie(t.menuInfo.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1032,["onClick"])):(w(),P(d,{key:1,"menu-info":f},null,8,["menu-info"]))],64))),128))]),_:2},[t.menuInfo.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(t.menuInfo.meta.icon),{class:ie(t.menuInfo.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1024)}}},pa=Ne(ha,[["__scopeId","data-v-0ac8764c"]]),ma={__name:"children-banner",props:{modelValue:Array},emits:["go"],setup(t,{emit:e}){const o=we(),n=se(),a=ct(),i=Oe(),s=V([]);be(()=>{s.value=[i.name]}),de(()=>i,l=>{s.value=[l.name]},{deep:!0});const r=l=>{l.meta&&l.meta.type==="L"?window.open(l.path):(o.push(l.path),a.addTag({name:l.name,title:l.meta.title,path:l.path}))};return(l,d)=>{const _=g("a-menu-item"),f=g("a-menu"),h=g("a-layout-content");return w(),P(h,{class:"sys-menus"},{default:u(()=>[c(f,{ref:"MaMenuRef",mode:"horizontal",class:"layout-banner-menu hidden lg:flex","popup-max-height":360,"selected-keys":s.value},{default:u(()=>[(w(!0),j(Z,null,Se(t.modelValue,m=>(w(),j(Z,{key:m.id},[m.meta.hidden?Q("",!0):(w(),j(Z,{key:0},[!m.children||m.children.length===0?(w(),P(_,{key:m.name,onClick:b=>r(m)},Ge({default:u(()=>[A(" "+I(O(n).i18n?l.$t(`menus.${m.name}`).indexOf(".")>0?m.meta.title:l.$t(`menus.${m.name}`):m.meta.title),1)]),_:2},[m.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(m.meta.icon),{class:ie(m.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1032,["onClick"])):(w(),P(pa,{key:1,"menu-info":m},null,8,["menu-info"]))],64))],64))),128))]),_:1},8,["selected-keys"])]),_:1})}}},ga={class:"flex justify-between md:justify-center logo"},_a=["src"],va={class:"ml-2 text-xl mt-2.5 hidden md:block"},ya={class:"flex justify-between w-full layout-banner"},ba={__name:"index",setup(t){const e=Oe();V(null);const o=De();se();const n=V([]);return be(()=>{n.value=[e.name]}),de(()=>e,a=>{n.value=[a.name]},{deep:!0}),(a,i)=>{const s=g("a-avatar"),r=g("a-layout-header"),l=g("a-layout");return w(),P(l,{class:"layout flex flex-col h-full"},{default:u(()=>[c(r,{class:"ma-ui-header flex justify-between h-50 layout-banner-header operation-area"},{default:u(()=>[x("div",ga,[c(s,{class:"mt-1 ml-2 md:ml-0",size:40},{default:u(()=>[x("img",{src:`${a.$url}logo.png`,class:"bg-white"},null,8,_a)]),_:1}),x("span",va,I(a.$title),1)]),x("div",ya,[c(ma,{modelValue:O(o).routers,"onUpdate:modelValue":i[0]||(i[0]=d=>O(o).routers=d)},null,8,["modelValue"]),c(Ot)])]),_:1}),c(It,{class:"hidden lg:flex ma-ui-tags"}),c(Pt)]),_:1})}}},wa=Ne(ba,[["__scopeId","data-v-cd36948d"]]),Sa={__name:"top-menu",props:{modelValue:Array,active:String},emits:["go"],setup(t,{expose:e,emit:o}){const n=t;we();const a=o,i=se();ct(),Oe();const s=V([n.active??""]);de(()=>n.active,d=>s.value=[d]);const r=d=>{s.value=[d.name],a("go",d)};return e({updateActive:d=>s.value=[d]}),(d,_)=>{const f=g("a-menu-item"),h=g("a-menu"),m=g("a-layout-content");return w(),P(m,{class:"sys-menus"},{default:u(()=>[c(h,{ref:"MaMenuRef",mode:"horizontal",class:"layout-banner-menu hidden lg:flex","popup-max-height":360,"selected-keys":s.value},{default:u(()=>[(w(!0),j(Z,null,Se(n.modelValue,b=>(w(),j(Z,{key:b.id},[b.meta.hidden?Q("",!0):(w(),P(f,{key:b.name,onClick:C=>r(b)},Ge({default:u(()=>[A(" "+I(O(i).i18n?d.$t(`menus.${b.name}`).indexOf(".")>0?b.meta.title:d.$t(`menus.${b.name}`):b.meta.title),1)]),_:2},[b.meta.icon?{name:"icon",fn:u(()=>[(w(),P(Te(b.meta.icon),{class:ie(b.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"]))]),key:"0"}:void 0]),1032,["onClick"]))],64))),128))]),_:1},8,["selected-keys"])]),_:1})}}},ka={class:"flex justify-between md:justify-center logo"},Ca=["src"],Ea={class:"ml-2 text-xl mt-2.5 hidden md:block"},xa={class:"flex justify-between w-full layout-banner"},Ta={__name:"index",setup(t){const e=Oe(),o=we(),n=V(null),a=V(null),i=De(),s=se(),r=V(!1),l=V();be(()=>{d()}),de(()=>e,h=>{d()},{deep:!0});const d=()=>{var h,m;(m=(h=e.matched[1])==null?void 0:h.meta)!=null&&m.breadcrumb?l.value=e.matched[1].meta.breadcrumb[0].name:l.value="home",i.routers&&i.routers.length>0&&i.routers.map((b,C)=>{b.name==l.value&&_(b)})},_=h=>{if(h.meta.type==="L"){window.open(h.path);return}h.children&&h.children.length>0?(a.value.loadChildMenu(h),r.value=!0):(r.value=!1,o.push(h.path)),n.value.updateActive(h.name)},f=V(0);return be(()=>{const h=document.getElementById("layout-mixed-left-panel");new gn(b=>{for(const C of b)switch(C.target){case h:f.value=C.contentRect.width;break}}).observe(h)}),(h,m)=>{const b=g("a-avatar"),C=g("a-layout-header"),E=g("a-layout-sider"),F=g("a-layout");return w(),P(F,{class:"layout flex flex-col h-full"},{default:u(()=>[c(C,{class:"ma-ui-header flex justify-between h-50 layout-banner-header operation-area"},{default:u(()=>[x("div",ka,[c(b,{class:"mt-1 ml-2 md:ml-0",size:40},{default:u(()=>[x("img",{src:`${h.$url}logo.png`,class:"bg-white"},null,8,Ca)]),_:1}),x("span",Ea,I(h.$title),1)]),x("div",xa,[c(Sa,{modelValue:O(i).routers,"onUpdate:modelValue":m[0]||(m[0]=X=>O(i).routers=X),active:l.value,onGo:_,ref_key:"topMenuRef",ref:n},null,8,["modelValue","active"]),c(Ot)])]),_:1}),x("div",{class:"flex",style:Ee(`height:calc(100% - ${O(s).tag?"87px":"52px"}); `)},[Je(c(E,{id:"layout-mixed-left-panel",class:"layout-classic-sider h-full flex flex-col hidden lg:block",style:Ee(`width: ${O(s).menuCollapse?"48px":O(s).menuWidth+"px"};`)},{default:u(()=>[c(en,{ref_key:"MaMenuRef",ref:a,height:"100%",class:ie(`${O(s).menuCollapse?"ml-1.5":""};`)},null,8,["class"])]),_:1},8,["style"]),[[Ke,r.value]]),x("div",{class:"w-full",style:Ee(`width: calc(100% - ${f.value}px)`)},[c(It,{class:"hidden lg:flex ma-ui-tags"}),c(Pt)],4)],4)]),_:1})}}},$a=Ne(Ta,[["__scopeId","data-v-536e1075"]]),Gt=[{name:"mine",thumb:"skins-thumb/mine/thumb.jpg"},{name:"businessGray",thumb:"skins-thumb/businessGray/thumb.jpg"},{name:"city",thumb:"skins-thumb/city/thumb.jpg"}],Oa={class:"flex flex-col"},Da={class:"leading-6"},Ia={__name:"skin",setup(t,{expose:e}){const o=V(!1),n=se(),a=()=>o.value=!0,i=()=>o.value=!1,s=l=>n.useSkin(l),r=Bt(Gt);return e({open:a}),(l,d)=>{const _=g("a-col"),f=g("a-image"),h=g("a-button"),m=g("a-row"),b=g("a-card"),C=g("a-modal");return w(),P(C,{visible:o.value,"onUpdate:visible":d[0]||(d[0]=E=>o.value=E),width:"600px",onCancel:i,footer:!1},{title:u(()=>[A(I(l.$t("sys.changeSkin")),1)]),default:u(()=>[x("div",Oa,[(w(!0),j(Z,null,Se(r,(E,F)=>(w(),P(b,{key:E.name,class:ie(F===0?"":"mt-3"),"body-style":{width:"100%",display:"flex",justifyContent:"space-between",padding:"10px"}},{default:u(()=>[c(m,{class:"w-full flex items-center"},{default:u(()=>[c(_,{span:3,class:"flex flex-col text-center"},{default:u(()=>[x("div",Da,I(l.$t(`skin.${E.name}`)),1)]),_:2},1024),c(_,{span:6,class:"flex flex-col text-center"},{default:u(()=>[c(f,{src:l.$url+E.thumb,class:"rounded border"},null,8,["src"])]),_:2},1024),c(_,{span:12,class:"flex items-center pl-3 pr-3"},{default:u(()=>[A(I(l.$t(`skin.${E.name}Desc`)),1)]),_:2},1024),c(_,{span:3,class:"flex items-center justify-end"},{default:u(()=>[c(h,{type:O(n).skin===E.name?"primary":"secondary",disabled:O(n).skin===E.name,onClick:X=>s(E.name)},{default:u(()=>[A(I(O(n).skin===E.name?l.$t("skin.activated"):l.$t("skin.use")),1)]),_:2},1032,["type","disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["class"]))),128))])]),_:1},8,["visible"])}}},Pa={class:"title"},Aa={class:"title"},Ma={__name:"setting",setup(t,{expose:e}){const o=De(),n=se(),{t:a}=Jt.useI18n(),i=V(null),s=V(!1);V(!1);const r=V(""),l=Bt({mode:n.mode==="dark",tag:n.tag,menuCollapse:n.menuCollapse,menuWidth:n.menuWidth,layout:n.layout,language:n.language,animation:n.animation,i18n:n.i18n,ws:n.ws}),d=Bt(["#165DFF","#F53F3F","#ff8800","#F7BA1E","#1dc574","#14C9C9","#3491FA","#722ED1","#fd5967","#D91AD9","#34C759","#00a5a0","#7cb342","#c0ca33","#86909c","#6d4c41"]),_=p=>{n.changeColor(p.hex)};Gt.map(p=>{p.name===n.skin&&(r.value=a("skin."+p.name))}),de(()=>n.skin,p=>{Gt.map(T=>{T.name===p&&(r.value=a("skin."+T.name))})});const f=()=>s.value=!0,h=()=>s.value=!1,m=p=>n.changeLayout(p),b=p=>n.toggleI18n(p),C=p=>n.toggleWs(p),E=p=>n.changeLanguage(p),F=p=>n.changeAnimation(p),X=p=>n.toggleTag(p),S=p=>n.toggleMenu(p),y=p=>n.changeMenuWidth(p);de(()=>n.menuCollapse,p=>l.menuCollapse=p);const $=async p=>{const T={mode:n.mode,tag:n.tag,menuCollapse:n.menuCollapse,menuWidth:n.menuWidth,layout:n.layout,skin:n.skin,i18n:n.i18n,language:n.language,animation:n.animation,color:n.color,ws:n.ws};qn.updateInfo({id:o.user.id,backend_setting:T}).then(q=>{q.code===200&&pn.success(q.message)}),p(!0)};return e({open:f}),(p,T)=>{const q=g("a-divider"),z=g("a-row"),ne=g("a-button"),v=g("a-form-item"),D=g("a-option"),R=g("a-select"),W=g("a-switch"),G=g("a-input-number"),oe=g("a-form"),_e=g("a-drawer");return w(),j(Z,null,[c(_e,{class:"backend-setting",visible:s.value,"onUpdate:visible":T[9]||(T[9]=U=>s.value=U),"on-before-ok":$,width:"350px","ok-text":p.$t("sys.saveToBackend"),onCancel:h,unmountOnClose:""},{title:u(()=>[A(I(p.$t("sys.backendSettingTitle")),1)]),default:u(()=>[c(oe,{model:l,"auto-label-width":!0},{default:u(()=>[c(z,{class:"flex justify-center mb-5"},{default:u(()=>[c(q,{orientation:"center"},{default:u(()=>[x("span",Pa,I(p.$t("sys.systemPrimaryColor")),1)]),_:1}),c(O(Hn),{theme:"dark",color:O(n).color,"sucker-hide":!0,"colors-default":d,onChangeColor:_,style:{width:"218px"}},null,8,["color","colors-default"])]),_:1}),c(q,{orientation:"center"},{default:u(()=>[x("span",Aa,I(p.$t("sys.personalizedConfig")),1)]),_:1}),c(v,{label:p.$t("sys.skin"),help:p.$t("sys.skinHelp")},{default:u(()=>[A(I(r.value)+" ",1),c(ne,{type:"primary",status:"success",size:"mini",class:"ml-2",onClick:T[0]||(T[0]=U=>i.value.open())},{default:u(()=>[A(I(p.$t("sys.changeSkin")),1)]),_:1})]),_:1},8,["label","help"]),c(v,{label:p.$t("sys.layouts"),help:p.$t("sys.layoutsHelp")},{default:u(()=>[c(R,{modelValue:l.layout,"onUpdate:modelValue":T[1]||(T[1]=U=>l.layout=U),onChange:m},{default:u(()=>[c(D,{value:"classic"},{default:u(()=>[A(I(p.$t("sys.layout.classic")),1)]),_:1}),c(D,{value:"columns"},{default:u(()=>[A(I(p.$t("sys.layout.columns")),1)]),_:1}),c(D,{value:"banner"},{default:u(()=>[A(I(p.$t("sys.layout.banner")),1)]),_:1}),c(D,{value:"mixed"},{default:u(()=>[A(I(p.$t("sys.layout.mixed")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","help"]),c(v,{label:p.$t("sys.ws"),help:p.$t("sys.wsHelp")},{default:u(()=>[c(W,{modelValue:l.ws,"onUpdate:modelValue":T[2]||(T[2]=U=>l.ws=U),onChange:C},null,8,["modelValue"])]),_:1},8,["label","help"]),c(v,{label:p.$t("sys.i18n"),help:p.$t("sys.i18nHelp")},{default:u(()=>[c(W,{modelValue:l.i18n,"onUpdate:modelValue":T[3]||(T[3]=U=>l.i18n=U),onChange:b},null,8,["modelValue"])]),_:1},8,["label","help"]),l.i18n?(w(),P(v,{key:0,label:p.$t("sys.language"),help:p.$t("sys.languageHelp")},{default:u(()=>[c(R,{modelValue:l.language,"onUpdate:modelValue":T[4]||(T[4]=U=>l.language=U),onChange:E},{default:u(()=>[c(D,{value:"zh_CN"},{default:u(()=>[A(I(p.$t("sys.chinese")),1)]),_:1}),c(D,{value:"en"},{default:u(()=>[A(I(p.$t("sys.english")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","help"])):Q("",!0),c(v,{label:p.$t("sys.animation"),help:p.$t("sys.animationHelp")},{default:u(()=>[c(R,{modelValue:l.animation,"onUpdate:modelValue":T[5]||(T[5]=U=>l.animation=U),onChange:F},{default:u(()=>[c(D,{value:"ma-fade"},{default:u(()=>[A(I(p.$t("sys.animate.fade")),1)]),_:1}),c(D,{value:"ma-slide-left"},{default:u(()=>[A(I(p.$t("sys.animate.sliderLeft")),1)]),_:1}),c(D,{value:"ma-slide-right"},{default:u(()=>[A(I(p.$t("sys.animate.sliderRight")),1)]),_:1}),c(D,{value:"ma-slide-down"},{default:u(()=>[A(I(p.$t("sys.animate.sliderDown")),1)]),_:1}),c(D,{value:"ma-slide-up"},{default:u(()=>[A(I(p.$t("sys.animate.sliderUp")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","help"]),c(v,{label:p.$t("sys.tag"),help:p.$t("sys.tagHelp")},{default:u(()=>[c(W,{modelValue:l.tag,"onUpdate:modelValue":T[6]||(T[6]=U=>l.tag=U),onChange:X},null,8,["modelValue"])]),_:1},8,["label","help"]),l.layout!=="banner"?(w(),P(v,{key:1,label:p.$t("sys.menuFold"),help:p.$t("sys.menuFoldHelp")},{default:u(()=>[c(W,{modelValue:l.menuCollapse,"onUpdate:modelValue":T[7]||(T[7]=U=>l.menuCollapse=U),onChange:S},null,8,["modelValue"])]),_:1},8,["label","help"])):Q("",!0),l.layout!=="banner"?(w(),P(v,{key:2,label:p.$t("sys.menuWidth"),help:p.$t("sys.menuWidthHelp")},{default:u(()=>[c(G,{modelValue:l.menuWidth,"onUpdate:modelValue":T[8]||(T[8]=U=>l.menuWidth=U),mode:"button",onChange:y},null,8,["modelValue"])]),_:1},8,["label","help"])):Q("",!0)]),_:1},8,["model"])]),_:1},8,["visible","ok-text"]),c(Ia,{ref_key:"skin",ref:i},null,512)],64)}}},Na={class:"sys-search-container"},Ra={class:"ssc-bg"},La={class:"w-6/12 mx-auto center-box"},Va={class:"mt-10"},Fa=["src"],ja={class:"mt-10"},Wa={class:"mt-5"},Xa={class:"mt-10 results shadow-lg customer-scrollbar"},za=["onClick"],Ba={class:"icon-box flex justify-center items-center"},Ha={class:"ml-5 leading-6"},qa={class:"title"},Ua={class:"path"},Ya={__name:"search",setup(t){const e=se(),o=we(),n=V(),a=V(o.getRoutes()),i=r=>{a.value=o.getRoutes().filter(l=>!!(l.path&&l.path.indexOf(r)>-1||l.name&&l.name.indexOf(r)>-1||l.meta&&l.meta.title&&l.meta.title.indexOf(r)>-1))},s=r=>{e.searchOpen=!1,o.push(r.path)};return be(()=>{n.value.focus(),document.addEventListener("keydown",r=>{const l=r.keyCode??r.which??r.charCode,d=document.querySelector(".active-search-li"),_=()=>{const m=document.querySelectorAll(".results li");let b={idx:0,path:"/"};return m.forEach((C,E)=>{if(C.className.split(" ").includes("active-search-li")){b.path=C.querySelector(".path").innerHTML,b.idx=E;return}}),b},f=m=>{document.querySelectorAll(".results li")[m].classList.add("active-search-li")},h=m=>{document.querySelectorAll(".results li")[m].classList.remove("active-search-li")};if(e.searchOpen){if(l===40)if(d){const m=document.querySelectorAll(".results li");let b=_(),C=b.idx+1;C>=m.length&&(C=0),h(b.idx),f(C)}else{f(0);return}if(l===38)if(d){const m=document.querySelectorAll(".results li");let b=_(),C=b.idx-1;C<0&&(C=m.length-1),h(b.idx),f(C)}else{f(document.querySelectorAll(".results li").length-1);return}if(l===13){const m=_();h(m.idx),m.path!=="/"&&s(m)}}He(()=>{const m=document.querySelector(".results");m&&m.scrollTop!==!1&&(m.scrollTop=(_().idx+1)*80-document.querySelectorAll(".results li").length*10)})})}),(r,l)=>{const d=g("icon-search"),_=g("a-input"),f=g("a-tag"),h=g("a-space"),m=g("icon-caret-up"),b=g("icon-caret-down"),C=g("icon-menu");return w(),j("div",Na,[x("div",Ra,[x("div",La,[x("div",Va,[x("img",{src:`${r.$url}logo.png`,width:"100",class:"mx-auto"},null,8,Fa)]),x("div",ja,[c(_,{size:"large",ref_key:"searchInputRef",ref:n,placeholder:"搜索页面，支持名称、标识以及URL的模糊查询",onInput:i},{prefix:u(()=>[c(d)]),_:1},512)]),x("div",Wa,[c(h,{size:"large",class:"flex justify-center"},{default:u(()=>[c(h,null,{default:u(()=>[c(f,null,{default:u(()=>[A("ALT+S")]),_:1}),c(f,null,{default:u(()=>[A("唤醒搜索面板")]),_:1})]),_:1}),c(h,null,{default:u(()=>[c(f,null,{default:u(()=>[c(m)]),_:1}),c(f,null,{default:u(()=>[c(b)]),_:1}),c(f,null,{default:u(()=>[A("切换搜索结果")]),_:1})]),_:1}),c(h,null,{default:u(()=>[c(f,null,{default:u(()=>[A("Enter")]),_:1}),c(f,null,{default:u(()=>[A("进入页面")]),_:1})]),_:1}),c(h,null,{default:u(()=>[c(f,null,{default:u(()=>[A("Esc")]),_:1}),c(f,null,{default:u(()=>[A("关闭搜索面板")]),_:1})]),_:1})]),_:1})]),x("ul",Xa,[(w(!0),j(Z,null,Se(a.value,E=>{var F;return w(),j(Z,null,[E&&E.path.indexOf(":")===-1&&E.components&&((F=E==null?void 0:E.meta)==null?void 0:F.type)==="M"?(w(),j("li",{key:0,class:"flex items-center",onClick:X=>s(E)},[x("div",Ba,[E.meta.icon?(w(),P(Te(E.meta.icon),{key:0,class:ie(E.meta.icon.indexOf("ma")>0?"icon":"")},null,8,["class"])):(w(),P(C,{key:1}))]),x("div",Ha,[x("div",qa,I(E.meta.title),1),x("div",Ua,I(E.path),1)])],8,za)):Q("",!0)],64)}),256))])])])])}}},Ga=Ne(Ya,[["__scopeId","data-v-9a709580"]]),Ja={class:"block lg:hidden button-menu"},Ka={__name:"ma-buttonMenu",setup(t){const e=De(),o=V(!1);return(n,a)=>{const i=g("icon-close"),s=g("icon-menu"),r=g("a-menu"),l=g("a-trigger");return w(),j("div",Ja,[c(l,{trigger:["click"],clickToClose:"",position:"top",popupVisible:o.value,"onUpdate:popupVisible":a[1]||(a[1]=d=>o.value=d)},{content:u(()=>[c(r,{mode:"popButton",showCollapseButton:"","popup-max-height":360},{default:u(()=>[c(Nn,{modelValue:O(e).routers,"onUpdate:modelValue":a[0]||(a[0]=d=>O(e).routers=d)},null,8,["modelValue"])]),_:1})]),default:u(()=>[x("div",{class:ie(`button-trigger ${o.value?"button-trigger-active":""}`)},[o.value?(w(),P(i,{key:0})):(w(),P(s,{key:1}))],2)]),_:1},8,["popupVisible"])])}}},ei={__name:"index",setup(t){const e=se();De();const o=V(),n=V();de(()=>e.settingOpen,i=>{i===!0&&(o.value.open(),e.settingOpen=!1)});const a=()=>{document.getElementById("app").classList.remove("max-size")};return be(()=>{document.addEventListener("keydown",i=>{const s=i.keyCode??i.which??i.charCode;if((i.altKey??i.metaKey)&&s===83){e.searchOpen=!0;return}if(s===27){e.searchOpen=!1;return}})}),(i,s)=>{const r=g("icon-close"),l=g("a-layout-content");return w(),P(l,{class:"h-full main-container"},{default:u(()=>[O(e).layout==="columns"?(w(),P(aa,{key:0})):Q("",!0),O(e).layout==="classic"?(w(),P(fa,{key:1})):Q("",!0),O(e).layout==="banner"?(w(),P(wa,{key:2})):Q("",!0),O(e).layout==="mixed"?(w(),P($a,{key:3})):Q("",!0),c(Ma,{ref_key:"settingRef",ref:o},null,512),c(mn,{name:"ma-slide-down",mode:"out-in"},{default:u(()=>[Je(c(Ga,{ref_key:"systemSearchRef",ref:n},null,512),[[Ke,O(e).searchOpen]])]),_:1}),c(Ka),x("div",{class:"max-size-exit",onClick:a},[c(r)])]),_:1})}}};export{ei as default};
