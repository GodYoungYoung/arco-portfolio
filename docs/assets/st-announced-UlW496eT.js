import{a as b}from"./notice-Bo3FsI-3.js";import{k as c,S as k,r as o,o as N,c as L,l as r,f as l,d as a,w as e,t as _}from"./index-oR0mlNqp.js";const T={class:"w-full lg:w-9/12 ma-content-block rounded-sm p-3 mt-3"},B={class:"flex justify-between"},C=["innerHTML"],M={__name:"st-announced",setup(V){const p=c([]),f=k([{title:"标题",dataIndex:"title",slotName:"title"},{title:"发布时间",dataIndex:"create_time",width:180,align:"right"}]),n=c({}),i=c(!1),g=async s=>{n.value=s,i.value=!0};return(async()=>{const s=await b.getPageList({limit:5,orderBy:"id",orderType:"desc"});p.value=s.data.data})(),(s,d)=>{const u=o("a-link"),v=o("a-table"),y=o("a-typography-title"),h=o("a-space"),m=o("a-typography-paragraph"),x=o("a-typography"),w=o("a-modal");return N(),L("div",T,[r("div",B,[l(" 系统公告 "),a(u,null,{default:e(()=>[l("更多")]),_:1})]),a(v,{data:p.value,columns:f,class:"mt-2",pagination:!1},{title:e(({record:t})=>[a(u,{onClick:D=>g(t)},{default:e(()=>[l(_(t.title),1)]),_:2},1032,["onClick"])]),_:1},8,["data","columns"]),a(w,{visible:i.value,"onUpdate:visible":d[0]||(d[0]=t=>i.value=t),fullscreen:"",footer:!1},{title:e(()=>[l("公告详情")]),default:e(()=>[a(x,{style:{marginTop:"-30px"}},{default:e(()=>[a(y,{class:"text-center"},{default:e(()=>{var t;return[l(_((t=n.value)==null?void 0:t.title),1)]}),_:1}),a(m,{class:"text-right",style:{"font-size":"13px",color:"var(--color-text-3)"}},{default:e(()=>[a(h,{size:"large"},{default:e(()=>{var t;return[r("span",null,"创建时间："+_((t=n.value)==null?void 0:t.create_time),1)]}),_:1})]),_:1}),a(m,null,{default:e(()=>{var t;return[r("div",{innerHTML:(t=n.value)==null?void 0:t.content},null,8,C)]}),_:1})]),_:1})]),_:1},8,["visible"])])}}};export{M as default};
