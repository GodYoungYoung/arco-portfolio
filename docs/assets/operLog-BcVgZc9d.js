import{fn as m,_ as x,k as p,S as _,M as I,A as L,r,o as k,c as y,d as e,w as o}from"./index-oR0mlNqp.js";const f={getPageList(d={}){return m({url:"/core/logs/getOperLogPageList",method:"get",params:d})},deletes(d){return m({url:"/core/logs/deleteOperLog",method:"delete",data:d})}},P={class:"ma-content-block"},C={__name:"operLog",setup(d){const i=p(),t=p({name:"",status:"",login_time:[],orderBy:"create_time",orderType:"desc"}),g=_({api:f.getPageList,rowSelection:{showCheckedAll:!0},operationColumnWidth:100,delete:{show:!0,auth:["/core/logs/deleteOperLog"],func:async n=>{var s;(await f.deletes(n)).code===200&&(I.success("删除成功！"),(s=i.value)==null||s.refresh())}}}),h=_([{title:"操作用户",dataIndex:"username",width:150},{title:"业务名称",dataIndex:"service_name",width:150},{title:"路由",dataIndex:"router",width:240},{title:"操作IP",dataIndex:"ip",width:150},{title:"操作地点",dataIndex:"ip_location",width:150},{title:"操作时间",dataIndex:"create_time",width:180}]),v=async()=>{},w=async()=>{var n;(n=i.value)==null||n.refresh()};return L(async()=>{v(),w()}),(n,a)=>{const s=r("a-input"),u=r("a-form-item"),c=r("a-col"),V=r("a-range-picker"),b=r("sa-table");return k(),y("div",P,[e(b,{ref_key:"crudRef",ref:i,options:g,columns:h,searchForm:t.value},{tableSearch:o(()=>[e(c,{span:8},{default:o(()=>[e(u,{field:"username",label:"操作用户"},{default:o(()=>[e(s,{modelValue:t.value.username,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value.username=l),placeholder:"请输入操作用户"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:8},{default:o(()=>[e(u,{field:"router",label:"操作路由"},{default:o(()=>[e(s,{modelValue:t.value.router,"onUpdate:modelValue":a[1]||(a[1]=l=>t.value.router=l),placeholder:"请输入操作路由"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:8},{default:o(()=>[e(u,{field:"ip",label:"操作IP"},{default:o(()=>[e(s,{modelValue:t.value.ip,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value.ip=l),placeholder:"请输入登录IP"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:16},{default:o(()=>[e(u,{field:"create_time",label:"操作时间"},{default:o(()=>[e(V,{modelValue:t.value.create_time,"onUpdate:modelValue":a[3]||(a[3]=l=>t.value.create_time=l),showTime:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["options","columns","searchForm"])])}}},B=x(C,[["__scopeId","data-v-bb1c09d4"]]);export{B as default};
