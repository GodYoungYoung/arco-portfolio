import{fn as u,_ as B,k as i,A as N,r as d,o,h as y,w as t,c as p,d as e,f as l,t as s,l as U,i as b}from"./index-oR0mlNqp.js";const V={getServerInfo(){return u({url:"/core/system/monitor",method:"get"})},getOnlineUserPageList(n={}){return u({url:"system/onlineUser/index",method:"get",params:n})},kickUser(n={}){return u({url:"system/onlineUser/kick",method:"post",data:n})},getCacheInfo(){return u({url:"system/cache/monitor",method:"get"})},view(n){return u({url:"system/cache/view",method:"post",data:n})},deleteKey(n){return u({url:"system/cache/delete",method:"delete",data:n})},clear(){return u({url:"system/cache/clear",method:"delete"})}},A={key:0,class:"ma-content-block lg:flex p-4"},G={key:1,class:"flex justify-between w-full redis-info mt-3"},H={class:"echarts hidden lg:block"},O={key:1,class:"ma-content-block lg:flex p-4 mt-3"},S={key:1,class:"flex justify-between w-full redis-info mt-3"},M={class:"echarts hidden lg:block"},q={key:2,class:"ma-content-block lg:flex p-4 mt-3"},D={key:1,class:"flex justify-between w-full redis-info mt-3"},E={__name:"index",setup(n){const x=i({}),P=i({}),c=i({}),r=i({}),v=i({}),z=i({}),h=i(!0),I=async()=>{var w,_,f,m;h.value=!0;const g=await V.getServerInfo();c.value=(w=g.data)==null?void 0:w.cpu,r.value=(_=g.data)==null?void 0:_.memory,v.value=(f=g.data)==null?void 0:f.phpenv,z.value=(m=g.data)==null?void 0:m.disk,x.value={tooltip:{formatter:"{b} : {c}%"},series:[{name:"CPU使用率",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:c.value.usage,name:"CPU使用率"}]}]},P.value={tooltip:{formatter:"{b} : {c}%"},series:[{name:"内存使用率",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:r.value.rate,name:"内存使用率"}]}]},h.value=!1};return N(async()=>{I()}),(g,w)=>{const _=d("a-skeleton-line"),f=d("a-space"),m=d("a-skeleton"),a=d("a-descriptions-item"),k=d("a-descriptions"),C=d("sa-chart"),j=d("a-layout-content");return o(),y(j,null,{default:t(()=>[c.value?(o(),p("div",A,[h.value?(o(),y(m,{key:0,animation:"",class:"w-full"},{default:t(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:t(()=>[e(_,{rows:5})]),_:1})]),_:1})):(o(),p("div",G,[e(k,{column:1,size:"large",bordered:"",title:"CPU信息",class:"lg:w-9/12 w-full"},{default:t(()=>[e(a,{label:"型号"},{default:t(()=>[l(s(c.value.name),1)]),_:1}),e(a,{label:"核心数"},{default:t(()=>[l(s(c.value.cores),1)]),_:1}),e(a,{label:"缓存"},{default:t(()=>[l(s(c.value.cache),1)]),_:1}),e(a,{label:"使用率"},{default:t(()=>[l(s(c.value.usage)+"%",1)]),_:1}),e(a,{label:"空闲率"},{default:t(()=>[l(s(c.value.free)+"%",1)]),_:1})]),_:1}),U("div",H,[e(C,{options:x.value,width:"350px",height:"350px"},null,8,["options"])])]))])):b("",!0),r.value?(o(),p("div",O,[h.value?(o(),y(m,{key:0,animation:"",class:"w-full"},{default:t(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:t(()=>[e(_,{rows:5})]),_:1})]),_:1})):(o(),p("div",S,[e(k,{column:1,size:"large",bordered:"",title:"内存信息",class:"lg:w-9/12 w-full"},{default:t(()=>[e(a,{label:"总内存"},{default:t(()=>[l(s(r.value.total)+"G",1)]),_:1}),e(a,{label:"已使用内存"},{default:t(()=>[l(s(r.value.usage)+"G",1)]),_:1}),e(a,{label:"PHP使用内存"},{default:t(()=>[l(s(r.value.php)+"M",1)]),_:1}),e(a,{label:"空闲内存"},{default:t(()=>[l(s(r.value.free)+"G",1)]),_:1}),e(a,{label:"使用率"},{default:t(()=>[l(s(r.value.rate)+"%",1)]),_:1})]),_:1}),U("div",M,[e(C,{options:P.value,width:"350px",height:"350px"},null,8,["options"])])]))])):b("",!0),v.value?(o(),p("div",q,[h.value?(o(),y(m,{key:0,animation:"",class:"w-full"},{default:t(()=>[e(f,{direction:"vertical",class:"w-full",size:"large"},{default:t(()=>[e(_,{rows:5})]),_:1})]),_:1})):(o(),p("div",D,[e(k,{column:2,size:"large",bordered:"",title:"PHP及环境信息",class:"w-full"},{default:t(()=>[e(a,{label:"操作系统"},{default:t(()=>[l(s(v.value.os),1)]),_:1}),e(a,{label:"PHP版本"},{default:t(()=>[l(s(v.value.php_version),1)]),_:1}),e(a,{label:"系统物理路径"},{default:t(()=>[l(s(v.value.project_path),1)]),_:1})]),_:1})]))])):b("",!0)]),_:1})}}},L=B(E,[["__scopeId","data-v-75c93c31"]]);export{L as default};
