import{a as u,_ as g}from"./edit-BshmgCWu.js";import{k as m,S as h,M as _,A as b,r,o as I,c as F,d as o,w as l}from"./index-oR0mlNqp.js";const R={class:"ma-content-block lg:flex justify-between"},U={__name:"index",setup(A){const n=m(),d=m(),s=m({name:"",status:"",create_time:[]}),w=h({api:u.getPageList,recycleApi:u.getRecyclePageList,rowSelection:{showCheckedAll:!0},add:{show:!0,auth:["/core/post/save"],func:async()=>{var e;(e=d.value)==null||e.open()}},edit:{show:!0,auth:["/core/post/update"],func:async e=>{var a,t;(a=d.value)==null||a.open("edit"),(t=d.value)==null||t.setFormData(e)}},delete:{show:!0,auth:["/core/post/destroy"],func:async e=>{var t;(await u.delete(e)).code===200&&(_.success("删除成功！"),(t=n.value)==null||t.refresh())},realAuth:["/core/post/realDestroy"],realFunc:async e=>{var t;(await u.realDestroy(e)).code===200&&(_.success("销毁成功！"),(t=n.value)==null||t.refresh())}},recovery:{show:!0,auth:["/core/post/recovery"],func:async e=>{var t;(await u.recovery(e)).code===200&&(_.success("恢复成功！"),(t=n.value)==null||t.refresh())}},import:{show:!0,url:"/core/post/import",templateUrl:"/core/post/downloadTemplate",auth:["/core/post/import"]},export:{show:!0,url:"/core/post/export",auth:["/core/post/export"]}}),v=h([{title:"ID",dataIndex:"id",width:80},{title:"岗位名称",dataIndex:"name",width:120},{title:"岗位标识",dataIndex:"code",width:180},{title:"排序",dataIndex:"sort",width:180},{title:"状态",dataIndex:"status",dict:"data_status",width:120},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"create_time",width:180}]),y=async()=>{},f=async()=>{var e;(e=n.value)==null||e.refresh()};return b(async()=>{y(),f()}),(e,a)=>{const t=r("a-input"),i=r("a-form-item"),p=r("a-col"),x=r("sa-select"),k=r("a-range-picker"),V=r("sa-table");return I(),F("div",R,[o(V,{ref_key:"crudRef",ref:n,options:w,columns:v,searchForm:s.value},{tableSearch:l(()=>[o(p,{span:8},{default:l(()=>[o(i,{field:"name",label:"岗位名称"},{default:l(()=>[o(t,{modelValue:s.value.name,"onUpdate:modelValue":a[0]||(a[0]=c=>s.value.name=c),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:8},{default:l(()=>[o(i,{field:"status",label:"状态"},{default:l(()=>[o(x,{modelValue:s.value.status,"onUpdate:modelValue":a[1]||(a[1]=c=>s.value.status=c),dict:"data_status",placeholder:"请选择状态"},null,8,["modelValue"])]),_:1})]),_:1}),o(p,{span:8},{default:l(()=>[o(i,{field:"create_time",label:"时间范围"},{default:l(()=>[o(k,{modelValue:s.value.create_time,"onUpdate:modelValue":a[2]||(a[2]=c=>s.value.create_time=c),style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["options","columns","searchForm"]),o(g,{ref_key:"editRef",ref:d,onSuccess:f},null,512)])}}};export{U as default};
