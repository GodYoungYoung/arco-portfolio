import{fn as _,k as g,S as f,M as C,A as B,r as s,o as m,c as U,d as e,w as t,h,f as w}from"./index-oR0mlNqp.js";const v={getPageList(u={}){return _({url:"/core/logs/getLoginLogPageList",method:"get",params:u})},deletes(u){return _({url:"/core/logs/deleteLoginLog",method:"delete",data:u})}},F={class:"ma-content-block lg:flex justify-between"},S={__name:"loginLog",setup(u){const c=g(),x=[{label:"成功",value:1},{label:"失败",value:2}],a=g({name:"",status:"",login_time:[],orderBy:"login_time",orderType:"desc"}),V=f({api:v.getPageList,pageLayout:"fixed",rowSelection:{showCheckedAll:!0},operationColumnWidth:100,delete:{show:!0,auth:["/core/logs/deleteLoginLog"],func:async n=>{var d;(await v.deletes(n)).code===200&&(C.success("删除成功！"),(d=c.value)==null||d.refresh())}}}),b=f([{title:"登录用户",dataIndex:"username",width:120},{title:"登录状态",dataIndex:"status",width:100},{title:"登录IP",dataIndex:"ip",width:150},{title:"登录地点",dataIndex:"ip_location",width:150},{title:"操作系统",dataIndex:"os",width:140},{title:"浏览器",dataIndex:"browser",width:140},{title:"登录信息",dataIndex:"message",width:120},{title:"登录时间",dataIndex:"login_time",width:180}]),y=async()=>{},L=async()=>{var n;(n=c.value)==null||n.refresh()};return B(async()=>{y(),L()}),(n,l)=>{const d=s("a-input"),i=s("a-form-item"),r=s("a-col"),k=s("a-select"),I=s("a-range-picker"),p=s("a-tag"),P=s("sa-table");return m(),U("div",F,[e(P,{ref_key:"crudRef",ref:c,options:V,columns:b,searchForm:a.value},{tableSearch:t(()=>[e(r,{span:8},{default:t(()=>[e(i,{field:"username",label:"登录用户"},{default:t(()=>[e(d,{modelValue:a.value.username,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.username=o),placeholder:"请输入登录用户"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:t(()=>[e(i,{field:"ip",label:"登录IP"},{default:t(()=>[e(d,{modelValue:a.value.ip,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.ip=o),placeholder:"请输入登录IP"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:8},{default:t(()=>[e(i,{field:"status",label:"状态"},{default:t(()=>[e(k,{modelValue:a.value.status,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.status=o),options:x,placeholder:"请选择状态",allowClear:""},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:16},{default:t(()=>[e(i,{field:"login_time",label:"登录时间"},{default:t(()=>[e(I,{modelValue:a.value.login_time,"onUpdate:modelValue":l[3]||(l[3]=o=>a.value.login_time=o),showTime:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),status:t(({record:o})=>[o.status==1?(m(),h(p,{key:0,color:"green"},{default:t(()=>[w("成功")]),_:1})):(m(),h(p,{key:1,color:"red"},{default:t(()=>[w("失败")]),_:1}))]),_:1},8,["options","columns","searchForm"])])}}};export{S as default};
